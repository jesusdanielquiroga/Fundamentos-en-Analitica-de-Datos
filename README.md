 <p align="left">
   <img src="https://img.shields.io/badge/status-en%20desarrollo-green"> 
   <img src="https://img.shields.io/github/issues/jesusdanielquiroga/model-api">
   <img src="https://img.shields.io/github/forks/jesusdanielquiroga/model-api">
   <img src="https://img.shields.io/github/forks/jesusdanielquiroga/model-api">
   <img src="https://img.shields.io/github/license/jesusdanielquiroga/model-api">
<a href="https://twitter.com/intent/tweet?text=Wow:&url=https%3A%2F%2Fgithub.com%2Fjesusdanielquiroga%2FIntroduccion-Base-de-Datos"><img alt="Twitter" src="https://img.shields.io/twitter/url?style=social&url=https%3A%2F%2Ftwitter.com%2Fjdquiroga2410"></a>
   <img src="https://img.shields.io/github/stars/camilafernanda?style=social">
   <img src="https://img.shields.io/badge/topic-analíticadedatos-blue">
  </p>
  
![unnamed](https://user-images.githubusercontent.com/87950040/200205226-dce0b1dd-af7a-4709-b6d4-0352c752cbd1.png)


 <h1 align="left"> Fundamentos en Analítica de Datos - DS4A </h1>
 
  ## Índice

* [Índice](#índice)

* [Descripción del proyecto](#descripción-del-proyecto)

* [Acerca de Correlation One](#acerca-de-correlation-one)

* [Alfabetización de datos](#alfabetización-de-datos)

* [El mundo de los datos](#el-mundo-de-los-datos)

* [Introducción a excel y tablas básicas](#Introducción-a-excel-y-tablas-básicas)

* [Interpretación de gráficos](#interpretación-de-gráficos)

* [Consultas básicas en Excel](#consultas-básicas-en-excel)

* [Manipulación de datos en Excel](#manipulación-de-datos-en-excel)

* [Visualización De Datos](#visualización-de-datos)

* [Tablas Dinámicas](#tablas-dinámicas)

* [SQL](#sql)

* [Programación con python](#programación-con-python)

* [Estructura de datos](#estructura-de-datos)

* [Lógica Condicional](#lógica-condicional)

* [Funciones](#funciones)

* [Bucles](#bucles)

* [Conceptos de estadística](#conceptos-de-estadística)

* [Introducción a los KPIs](#introducción-a-los-KPIs)

* [Módulos de repaso](#módulos-de-repaso)

* [Herramientas y tecnologías](#herramientas-y-tecnologías)


# Descripción del proyecto
 
Los datos son el nuevo petróleo. A medida que las empresas buscan descubrir el valor de sus datos para ganar una ventaja competitiva, están empleando un número cada vez mayor de analistas de datos. Este programa le ayudará a prepararse para estos roles en Análisis de Datos.

Este programa de Fundamentos en Analítica de Datos hace parte de los programas DS4A que significa Data Science For All o Ciencia de Datos para Todos y son reconocidos a nivel mundial. El programa es dirigido por instructores de clase mundial que enseñan en universidades de élite, combinado con un equipo de docentes asistentes (Teaching Assistant) de importantes instituciones a nivel global y los mejores graduados de programas anteriores en Ciencia de Datos; en equipo trabajarán con usted para explorar la Analítica de Datos en formas totalmente innovadoras. Nuestro entrenamiento tiene un alto enfoque práctico, basado en casos de negocio y un contexto comercial del mundo real.

# Acerca de Correlation One

Correlation One es una compañía de tecnología que tiene como misión generar habilidades de datos para todos. Creemos que la alfabetización en datos es la habilidad más importante para el trabajo del futuro. Promovemos la alfabetización en datos a través de competencias de habilidades de datos globales, evaluaciones rigurosas de habilidades con datos, y educación de nivel empresarial en habilidades con datos. Hemos construido una comunidad de expertos de más de 250.000
científicos de datos y +500 relaciones con universidades líderes en US, China, Canadá, Irlanda y Latinoamérica.

Nuestras soluciones son usadas por algunos de los empleadores élite alrededor del mundo en finanzas, tecnología, cuidado de la salud, seguros, consultoría y agencias de gobierno. Correlation One está comprometido en promocionar un ecosistema de AI más inclusivo a nivel global, incluyendo programas dedicados para hacer avanzar a más mujeres y poblaciones subrepresentadas en la comunidad de ciencia de datos.

# Alfabetización de datos

La capacidad de leer, escribir, traducir y pensar usando datos es una de las habilidades más importantes que se deben tener en el siglo XXI. Las personas con conocimientos en datos son capaces de tomar mejores decisiones financieras, consiguen trabajo con mayor facilidad y son generalmente ciudadanos más informados.

Podemos descibir estas 4 habilidades que componen la alfabetización en datos de la siguiente manera:

* "Leer" datos: ser capaz de leer representaciones de datos como gráficos, tablas y cifras estadísticas, lo que no sólo implica entender lo que significan por sí mismos, sino también comprender cómo forman parte de una historia coherente.
* "Escribir" datos: ser capaz de producir gráficos, tablas, cantidades estadísticas y tableros de control para que los lean otras personas.
* "Traducir" datos: comunicar los análisis de datos a públicos no técnicos
* "Pensar" usando datos: comprender cómo se relacionan tus análisis con las las preguntas de negocio que son las que realmente para el público interesado

<a href="https://www.youtube.com/watch?v=1LkmG5_FdZg">Ver recurso (video)</a>

# El mundo de los datos

En las últimas décadas se han producido avances astronómicos en la potencia de los computadores y la interconectividad de los dispositivos. Se ha llegado a un punto en el que podemos aprovechar el poder de una gran cantidad de datos para tomar mejores decisiones, cada vez más rápido. En los últimos 5 años aproximadamente, el campo de trabajo dedicado a hacer todo lo necesario para que esto ocurra se ha convertido en lo que ahora se conoce como ciencia de los datos.

La ciencia de los datos está en auge en este momento, con muchas oportunidades de innovación y de generación de empleo en todas las industrias. Pero, ¿quién es exactamente un “Científico de Datos”? ¿Qué hacen en el día a día? ¿Qué herramientas utilizan?.

<a href="Jupyter_Notebook/introduccion_datos.ipynb">Más información...</a>

![es_venn](https://user-images.githubusercontent.com/87950040/201545861-0749cc88-1d21-43ab-9d5b-8b50ad28e4f1.png)



# Introducción a excel y tablas básicas

Muchos análisis de datos comienzan con una hoja de cálculo de Excel. Algunos de los factores clave que hacen de Excel una herramienta tan útil son:

* Es fácil de aprender
* Es muy intuitivo y la interfaz de usuario es muy amigable
* Puedes calcular con relativa facilidad algunos parámetros bastante detallados de los datos
* Muchas herramientas de análisis de datos pueden trabajar directamente con archivos de Excel

Una de las cosas más útiles de Excel es que puedes "mirar" tu conjunto de datos tan solo con abrirlo. Aquí tienes un ejemplo:

![descarga](https://user-images.githubusercontent.com/87950040/201536939-bebb7891-e5d9-4716-9bf4-4ac429a9c5d4.png)

**¿Cómo crear una cuenta de microsoft?**

<a href="https://www.youtube.com/watch?v=YVVEtB36IXI">Ver tutorial</a>.  En este video, se explica cómo crear una cuenta de Microsoft para que puedas trabajar con Excel Online.

<a href="https://scribehow.com/shared/Live_Workflow__nI-C4bfbRyuaXqOyAQuvew"> Instructivo en pdf</a>
 
 ## Caso 0: Calculando los precios de los pedidos de una tienda de barrio
 
 **Objetivos**
 
 En este caso aprenderás los elementos básicos de Excel. En la medida en que avances, empezarás a descubrir sus increibles capacidades. En esta ocasión, aprenderás lo siguiente:

* Cómo añadir datos a un archivo de Excel.
* Cómo escribir fórmulas utilizando varias operaciones aritméticas como la multiplicación, la suma y la resta.
* Cómo copiar y pegar valores y fórmulas.
* Algunos atajos de teclado útiles para copiar, pegar y deshacer cambios.

**Contexto general**

Recientemente has sido contratado como ayudante en una pequeña tienda de especializada en confitería. La tienda queda en Miami y tiene muchos clientes colombianos que acuden a ella para comprar golosinas y mecato. Para mantenerse al día con las tendencias de consumo actuales, el propietario de la tienda ha decidido empezar a ofrecer envíos a domicilio sobre los pedidos que los clientes hacen a través de WhatsApp. La semana pasada, varios pedidos inusualmente grandes fueron devueltos porque sus precios estaban mal calculados. Hasta ahora, este proceso se ha llevado a cabo manualmente con lápiz, papel y calculadora. Al parecer, el voz a voz hizo que la posibilidad de hacer pedidos a través de WhatsApp se difundiera muy rápidamente, y el propietario de la tienda está preocupado de no poder seguir el ritmo del creciente número de pedidos grandes que requieren cálculos largos y propensos a errores.

**Problema a resolver**

Tu tarea consiste en idear una forma de simplificar el proceso de cálculo del precio total de cada pedido y hacerlo más exacto y confiable.

**Contexto temático**

El propietario te ha proporcionado un pedido de uno de sus clientes más fieles y un computador con el cual podrás usar Microsoft Excel. Quiere que prepares una demostración de cómo va a funcionar el nuevo proceso. Este es el pedido:

![descarga3](https://user-images.githubusercontent.com/87950040/201544206-f6259e54-aa76-4c13-8d38-bceb83378ac2.png)

## Libros y hojas de cálculo

Los archivos de Excel también se conocen como libros. Una vez que abras un libro de Excel, verás que contiene una o varias hojas de cálculo a las que puedes acceder desde las pestañas de la parte inferior de la pantalla:

![excel](https://user-images.githubusercontent.com/87950040/201544263-24a4e8ac-50d8-4116-9936-c34c0d31c5d6.png)

En cada hoja de cálculo, verás una fila horizontal de letras en el borde superior de la cuadrícula. Esas letras representan las columnas en las que se almacena la información. También hay una columna de números a la izquierda. Estos números representan las filas en las que se almacena la información. Para identificar una celda, utilizamos sus coordenadas de columna y fila. Así, esta celda. Cuando se selecciona una celda, su borde se vuelve verde y visualmente más grueso que los bordes de las celdas circundantes.

En la parte superior de la pantalla verás varios menús que te permiten cambiar el tamaño y el color de la letra (similar a Microsoft Word), añadir o modificar bordes, insertar gráficos, y acceder a muchas otras funciones que trataremos en casos posteriores. Debajo de los menús, también verás la barra de fórmulas (indicada con $f_x$ a la izquierda), donde puedes ver el contenido de la celda que está seleccionada en ese momento (hemos resaltado la barra de fórmulas con un rectángulo rojo en la siguiente imagen):

![excel](https://user-images.githubusercontent.com/87950040/201544451-33b131d8-ce26-4c34-b53b-300fa8612335.png)

## Insertar datos

Vamos a empezar a rellenar nuestra hoja de cálculo con los datos del pedido. Para insertar datos en una celda, simplemente selecciona la celda con un solo clic y empieza a escribir. Una vez que hayas terminado, puedes pulsar la tecla “Enter” (⏎) para pasar a la celda inmediatamente inferior.

![descarga](https://user-images.githubusercontent.com/87950040/201544528-acb99b29-14d2-4c7d-bbad-b62366eeded8.gif)

## Calcular el precio total del pedido

Calculemos ahora el precio total del pedido. Para esto, será necesario:

* Calcular el precio total por artículo.
* Aplicar los descuentos a los artículos seleccionados.
* Sumar todos los totales de los artículos para obtener el total general.
* 
**Precio total por artículo**

Para obtener esta cifra, es necesario multiplicar la cantidad de cada artículo por su precio unitario. Por ejemplo, las bolsas de Doritos cuestan $10 cada una, y el cliente pidió dos bolsas, lo que significa que el precio total a cobrar por las bolsas Doritos es $10 x 2 = $20.

Para realizar operaciones aritméticas como ésta, necesitamos conocer las fórmulas de Excel. Las fórmulas son nuestra forma de pedir a Excel que calcule algo. Si insertamos una fórmula en una celda, a diferencia de simplemente poner datos simples, le estamos diciendo a Excel que necesitamos que haga algo más que almacenar nuestros datos. Las fórmulas siempre empiezan con el signo de igualdad (=).

![excel](https://user-images.githubusercontent.com/87950040/201544702-7db2b878-b1d7-471e-890a-11304b6ad096.gif)

## Algunos atajos útiles

Habrás notado que mientras resolvíamos el ejercicio anterior hicimos clic repetidamente en una nueva celda y pulsamos "Ctrl + V" nueve veces. Tuvimos suerte de que nuestra lista de elementos fuera relativamente pequeña. En muchas situaciones de la vida real, tendremos que trabajar con cientos, si no miles de filas. Por suerte, hay unos cuantos atajos de ratón y/o atajos de teclado que puedes utilizar para agilizar este proceso:

* Haz clic con el botón izquierdo en la celda E4 y mantén pulsado el ratón mientras arrastras el cursor hacia abajo hasta la última celda en la que quieras pegar la fórmula (en este caso, la celda E12), y luego pulsa "Ctrl + V" una sola vez. (Esto se muestra al final del GIF anterior).
* Después de seleccionar la celda E4, pulsa "Ctrl + Shift (Mayús) + ↓ " para resaltar todo lo que hay en la columna E a partir de la celda E4. A continuación, pulsa "Ctrl + V" una sola vez. (Sin embargo, ten en cuenta que esto pegará la fórmula más allá de la celda E12).
* Haz clic con el botón izquierdo del ratón en el cuadrado verde de la esquina inferior derecha de celda E4 y mantén pulsado el ratón mientras arrastras el cursor hacia la celda E12. Suelta el ratón y ¡ya está! (Ni siquiera tienes que pulsar "Ctrl + V").

## Conclusiones y tips para recordar

Ahora tienes un demo para mostrarle al dueño de la tienda. Esperemos que le le gusten los resultados y abandone el método de la calculadora, papel y lápiz por este método más moderno, basado en Excel. Seguramente le gustará el hecho de que los errores son mucho más fáciles de corregir en Excel que con su proceso actual (basta con pulsar "Ctrl + Z" y volver a empezar). Otra ventaja es que los libros de Excel pueden guardarse para más tarde, lo que facilita mucho el seguimiento de los pedidos en el tiempo.

Ahora bien, puede que pienses que tener que insertar los precios unitarios manualmente sigue siendo un poco propenso a errores, y eso es totalmente correcto. Para evitar el tener que hacerlo, Excel también tiene algunas funciones más avanzadas (no las hemos visto en este caso) que te permiten tener todos los precios unitarios en una hoja de cálculo específica, de la cual puedes extraer o utilizar los datos cuando se requieran en otras hojas de cálculo.


# Interpretación de gráficos

## Caso 1: ¿Qué marcas y modelos de carros son los más populares en Estados Unidos?

![descarga](https://user-images.githubusercontent.com/87950040/201538127-5c9f2d4e-5a2a-4f37-b592-c2c3d40628a3.jpg)

**Objetivo**

Al final de este caso habrás aprendido a interpretar tablas, diagramas de barras y diagramas de torta. También conocerás los conceptos de frecuencia absoluta y relativa.

**Contexto General**

Eres un analista en un pequeño concesionario de carros en Manizales. El concesionario está planeando ampliar sus campañas de marketing para dar mayor cobertura a las marcas y modelos que han demostrado ser más populares entre los consumidores a nivel mundial, con la esperanza de que también serán populares en el mercado colombiano.

**Problema a resolver**

Tu trabajo consiste en redactar un breve informe que resuma los datos de ventas de carros del primer semestre de 2020 en Estados Unidos, ya que Estados Unidos es el principal mercado de carros del mundo y puede dar información útil para los mercados de Latinoamérica. Tu jefe utilizará tu informe para tomar decisiones sobre qué marcas y modelos promocionar a través del márketing audiovisual del concesionario en los próximos meses.

**Contexto temático**

Encontraste este <a href="https://www.forbes.com/wheels/news/top-20-selling-vehicles-first-six-months-2020/">artículo</a> en la revista Forbes Wheels. Contiene información sobre cuántos carros se vendieron en Estados Unidos entre enero y junio de 2020. Debes utilizar la tabla de ventas de carros que aparece en el artículo como fuente de datos para redactar tu informe. Le has pedido a uno de tus compañeros que tome los datos y prepare algunas visualizaciones sencillas para ayudarte a ti y a tu jefe a interpretar las cifras.


## Cómo leer una tabla

Las tablas se componen de dos partes: columnas y filas. Las filas suelen representar personas, transacciones, artículos o cualquier tipo de "cosa" en general. Las columnas suelen representar características o atributos que tienen esas "cosas". Por ejemplo, en esta tabla:

<img width="152" alt="tabla" src="https://user-images.githubusercontent.com/87950040/201538472-fb8db560-c74a-488e-812c-0263d690e378.png">

Las filas representan personas y las columnas representan la información que tenemos sobre esas personas, es decir, sus nombres, apellidos y comidas favoritas. Cada uno de los cuadritos donde se cruzan una columna y una fila se llama celda.

Para leer una tabla, normalmente empiezas por localizar la fila que te interesa y luego la columna. O, si conoces el atributo y quieres saber más sobre la "cosa", primero localizas la columna y luego la fila.

## Tablas de frecuencia

Las tablas son extremadamente útiles para representar prácticamente cualquier tipo de datos: desde la histora médica de una persona en la base de datos de un hospital, hasta toda su red de amigos en Facebook.

Uno de los tipos de tablas más utilizados son las tablas de frecuencias. Son tablas que muestran cuántas veces aparece un elemento concreto en un conjunto de datos, es decir, su frecuencia en ese conjunto de datos.

Aquí está nuestra tabla de ventas de carros (hemos extraído sólo los 10 modelos de carro más vendidos):

<img width="521" alt="tablacarros" src="https://user-images.githubusercontent.com/87950040/201538682-8f316aa2-35c2-4226-aa5b-777cc1b5ae93.png">

## Gráficos de barras

La tabla de frecuencias de ventas de coches también puede representarse visualmente mediante un gráfico de barras. Los gráficos de barras son una de las formas más populares de representar datos. En un gráfico de barras, tienes un conjunto de barras (una barra por cada fila de la tabla) cuyas alturas representan la frecuencia asociada a esa fila:

<img width="514" alt="barrascarros" src="https://user-images.githubusercontent.com/87950040/201538817-83234812-77ed-4726-8f78-d64425fb5e7a.png">

En primer lugar, tienes los títulos y las etiquetas de los ejes. Éstos proporcionan una información clave, ya que te indican lo que el gráfico está tratando de representar:

<img width="517" alt="barrascarros2" src="https://user-images.githubusercontent.com/87950040/201538863-d6226e86-f992-4c51-8d62-d786cd068bb3.png">

El eje vertical (Unidades vendidas) se conoce comúnmente como el eje $y$. El eje horizontal (modelo) es el eje $x$. Como habrás observado, este gráfico tiene un subtítulo que nos indica la fuente de los datos. Esto suele ser una buena práctica porque ayuda a los lectores a entender de dónde proceden los datos, lo que a su vez puede ayudarles a evaluar la calidad y la fiabilidad de la información transmitida en el gráfico.

A continuación, tenemos las etiquetas de la cuadrícula en cada eje. Éstas indican lo que representa cada barra (en el caso de las etiquetas de la cuadrícula del eje $x$) y las magnitudes que representa el eje $y$ (en el caso de las etiquetas de la cuadrícula del eje $y$):

<img width="523" alt="barrascarros3" src="https://user-images.githubusercontent.com/87950040/201539027-44b51e0c-ce17-4a55-ace1-1d608dbfe4ad.png">

Por último, tenemos las barras, las etiquetas de las barras y la cuadrícula. La altura de cada barra es proporcional a la frecuencia asociada al modelo respectivo; es decir, cuanto más alta sea la barra, más unidades se vendieron de ese modelo concreto. A veces vemos etiquetas encima de cada barra que nos indican la frecuencia exacta de ese modelo. Esto no suele ser necesario, pero pueden ser útiles en muchas situaciones. También tenemos la cuadrícula (las líneas horizontales grises), que nos ayuda a comparar las alturas de las distintas barras:

<img width="515" alt="barrascarros4" src="https://user-images.githubusercontent.com/87950040/201539114-2c344055-45e6-4b99-b883-c761de96cf75.png">


## Diagramas de torta

Los gráficos de barras no son la única forma de representar datos de frecuencias. Hay una alternativa popular que a veces resulta útil: el diagrama de torta. Los diagramas de torta se parecen a las tortas de cumpleaños, de ahí su nombre. Cada categoría tiene una porción del pastel, y el tamaño de la porción es proporcional a la frecuencia de la categoría en la tabla de frecuencias, de modo que las categorías más frecuentes tienen una porción mayor.

Los diagramas de torta son buenos para representar las frecuencias no sólo como números absolutos, sino también como porcentajes; es decir, lo que llamamos frecuencias relativas (en contraposición a las frecuencias absolutas que hemos estado visualizando hasta ahora). En un diagrama de torta de frecuencias relativas, se considera que el área total de la torta representa el número 100%.

<img width="520" alt="torta carros" src="https://user-images.githubusercontent.com/87950040/201539307-0f6f15c5-2cd9-4380-a0d3-e08b7a7d6053.png">

## Tips finales

* Para leer una tabla, puedes empezar por localizar la(s) columna(s) correspondiente(s) y luego la(s) fila(s) correspondiente(s) o viceversa, según la información inicial que tengas
* Las frecuencias absolutas son conteos, y las relativas son porcentajes
* Las alturas de las barras en los gráficos de barras son proporcionales a las frecuencias
* Los ejes  de los gráficos de barras deben empezar siempre en cero, a menos que haya una buena razón para no hacerlo
* Los diagramas de torta pueden mostrar la misma información que los diagramas de barras, pero son más difíciles de leer cuando hay muchas categorías

# Consultas básicas en Excel

## Caso 2: ¿Cómo debo fijar el precio de los libros que vende mi editorial?

**Objetivo**

Al final de este caso estarás familiarizado con cómo usar referencias variables y fijas en fórmulas de Excel, así como con las funciones básicas incorporadas de Excel y algunos atajos de teclado útiles para insertar datos en hojas de cálculo.

**Contexto general**

Eres el dueño de una compañia editorial independiente especializada en literatura de ficción. Hasta ahora, has estado tratando las negociaciones de precios y costos de una manera muy informal e intuitiva, pero el negocio ha crecido recientemente y te has dado cuenta de que tienes que empezar a tratar tus números de manera más profesional. Tu método actual ha funcionado razonablemente bien hasta ahora, pero podría no hacerlo en el futuro.

**Problema a resolver**

Tienes que crear un libro de Excel para calcular el precio de venta al público (PVP) sugerido por el fabricante y el costo de cada libro que vas a lanzar este mes, así como los ingresos, costos y beneficios esperados de tu negocio.

**Contexto Analitico**

Tu asistente te ha preparado un <a href="Excel/datos_libros_estudiante.xlsx">libro de Excel</a> con algunas cantidades descriptivas relevantes sobre los libros de este mes. Trabajarás en él para calcular las cifras requeridas.

**Explorar los datos**

Las siguentes son las columnas presentes en la hoja de cálculo **datos libros**:

<img width="786" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202322071-08a9c064-2d7a-4a23-8850-be4f849f1ee6.png">

* Título del libro: El título del libro.
* Autor: El nombre del autor.
* Número estimado de páginas: Cuántas páginas tendrá el diseño terminado.
* Peso del papel: El grosor del papel. El grosor del papel se mide en gramos por metro cuadrado (gmc). El estándar es de 70 gmc, y todos los libros de esta lista se imprimirán en papel de ese gramaje.
* Tipo de cubierta: Tapa dura o blanda. Para reducir costos, todos tus libros nuevos serán de tapa blanda.
* Páginas interiores: Las páginas interiores de un libro pueden imprimirse sólo con tinta negra (TN) o con tinta de color (Color). Como estos libros son literatura y no revistas, todos se imprimirán en blanco y negro.
* Derechos de autor por libro vendido: Esta cifra corresponde a los dólares que se pagarán al autor por cada libro vendido. En toda la industria, la norma es de alrededor del 10% del precio de venta. Has negociado estas cifras con los autores antes de conocer el precio de catálogo exacto, pero por tu experiencia sabes que estas cifras serán razonables.
* Copias: Cuántas copias del libro se imprimirán. Has negociado estas cifras con el autor y tu director de mercadeo.
* Demanda estimada (% de copias vendidas): El porcentaje estimado de todas las copias producidas que se venderán en los próximos tres meses. Esta cifra representa el peor escenario posible.

Estas son las columnas de la hoja de cálculo **costos de impresión**:

* Peso (gmc): Peso del papel en gramos por metro cuadrado.
* Costo por página TN: Cuánto te cobra el impresor por página utilizando sólo tinta negra.
* Costo por página Color: Cuánto te cobra el impresor por página utilizando tinta de color.

Por último, estas son las columnas de la hoja de cálculo **costos de cubierta**:

* Tipo: Tapa blanda o tapa dura.
* Costo: Cuánto te cobra la imprenta (en dólares) por encuadernar cada libro con una cubierta de tapa blanda o de tapa dura.

**Calculo de costos**

Algunos factores que influyen en los costos son el número de páginas, el gramaje y la calidad del papel, si el libro es de tapa blanda o dura, si las páginas interiores son en blanco y negro o en color, los derechos de autor, etc.

**Costos de impresión**

Si vas a la hoja de cálculo costos impresión, verás que el costo de imprimir una página varía en función de si la impresión se hará en blanco y negro o en color, así como del gramaje del papel. Todos los libros de nuestra lista se imprimirán con papel de 70 gmc en tinta negra, lo que significa que la única celda que nos interesa es la B2:

<img width="292" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202322326-b05d02e5-ced4-4114-b678-5b233379b8c2.png">

**Ejemplo 1**

Utilizando fórmulas de Excel, calcula el costo de impresión de todos los libros de la lista.

Respuesta. Este número se puede calcular con esta fórmula:
```sh
costo de impresion = numero de paginas x costo por pagina
```
Utilicemos lo que ya sabemos sobre las fórmulas de Excel para crear una nueva columna en la hoja de cálculo datos libros que contenga el costo de impresión de cada libro. Vayamos a J2 y hagamos lo siguiente:

![descarga](https://user-images.githubusercontent.com/87950040/202323686-fcda8b5d-0e9a-4b52-a7fd-c578b06788a9.gif)

¿Puedes ver que la fórmula contiene el nombre de la hoja de cálculo a la que se hace referencia ('costos impresión'!) seguido de la celda a la que se hace referencia en esa hoja de cálculo? Esta es la forma que tiene Excel de saber a qué hojas de cálculo pertenecen las celdas referenciadas en una fórmula.

**Referencias variables:** Excel utiliza referencias variables, lo que significa que cada vez que copias una fórmula, todas las referencias de celda dentro de la fórmula se actualizan en función de la ubicación de la celda de destino de la copia.

**Referencias fijas:** Las referencias de celda seguiran siendo las mismas independientemente de dónde estemos copiando la fórmula. Para hacer que una referencia de celda sea una referencia fija, debes añadir previamente el signo de dólar ($) tanto al nombre de la columna como al número de fila en la fórmula, de esta forma

![descarga](https://user-images.githubusercontent.com/87950040/202324844-65ad9ed0-6513-4ed2-90f7-f26a22277991.gif)

**Costos de las cubiertas**

En cuanto a las cubiertas, puedes ver fácilmente que, como todos los libros serán de tapa blanda, la única celda relevante en la hoja de cálculo costos cubierta será la celda B3:

<img width="269" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202325399-f91ee764-c11f-49ae-9f44-8e431e7fc36a.png">

**Ejercicio 1**

Utilizando fórmulas de Excel, calcula la suma de los costos de impresión y de encuadernación de todos los libros de la lista. Pon los resultados en una nueva columna llamada Costos de Impresión y Encuadernación.

<img width="743" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202326285-99605923-65ab-4c78-bc6b-1f0ff12fa3e6.png">

**Otros costos fijos**

Por regla general, en la empresa normalmente hay que añadir otros 80 centavos de dólar por libro a manera de costos fijos. Esto incluye todos los costos de pagar a los editores, correctores, diseñadores, etc. No hay ninguna razón especial para cambiar esta regla ahora, así que simplemente crearemos una nueva hoja de cálculo llamada otros costos fijos y añadiremos esta cantidad allí. Para crear una nueva hoja de cálculo, hacemos clic en el signo + a la derecha de la última pestaña de la hoja de cálculo:

![descarga](https://user-images.githubusercontent.com/87950040/202326596-fb6ade02-8cb3-4e58-a402-4d715978ebc4.gif)

**Costo total**

Ahora que conocemos todos los costos parciales, debería ser fácil calcular el costo total.

**Ejercicio 2**

Calcula el costo total por libro. Para efectos de este ejercicio, asume que el costo total es la suma de los costos de impresión, los costos de cubierta, otros costos fijos y las regalías del autor.

**Calculando el precio de venta**

**Las utilidades del editor**

Tu objetivo es siempre un margen de beneficio del 35% del costo total, para que puedas obtener utilidades en tu negocio. Por ejemplo, si el costo total de producción de un libro es de 100 dólares, tu margen de beneficio debería ser de 35 dólares.

**Ejercicio 3**

Crea una nueva columna llamada Margen de Beneficio con el margen de beneficio en dólares de cada libro.

**El precio con descuento y el PVP**

Los minoristas casi siempre te pedirán un descuento del 40% sobre el precio de venta al público (PVP). Esto significa que:

<img width="302" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202327709-a75d7cc1-15ee-4e4b-b6ca-5bb90caba900.png">

Si dividimos ambos lados de la ecuación por 0,6, obtenemos:

<img width="194" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202327894-615f9e0d-0273-4233-a625-5d27b20088be.png">

Ahora, el precio con descuento será el total de tus costos más tu margen de beneficio. Como ejemplo, digamos que tus costos totales fueron de 10 dólares y tu margen de beneficio es de 3,5 dólares. Por tanto,

<img width="110" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202328077-83530d8f-10d3-4458-890e-1d06e7d392e0.png">

**Ejercicio 4**

Utilizando la fórmula anterior, crea una nueva columna llamada Precio con descuento y utilízala para calcular el PVP de cada libro (crea una nueva columna llamada PVP). Recuerda que tu precio con descuento es igual a tus costos totales más tu margen de beneficio.

<img width="878" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202328829-bb9dc21c-e0d0-426c-9a1d-dba0f02910fb.png">

**Calcular algunas estadísticas adicionales útiles**

Sería muy conveniente tener algunas estadísticas de alto nivel sobre lo que has vendido. Después de pensarlo un poco, decides que quieres conocer la suma de los ingresos, costos y utilidades totales previstos en todos los libros que has vendido. Además, quieres saber el PVP medio por página, es decir, cuánto acaban pagando los clientes por cada página den promedio. Esta cifra es muy importante porque puede servir como regla general sobre el precio que podría tener un libro en función de su número de páginas. Puedes utilizarlo como una estimación aproximada en las primeras fases de tus negociaciones con autores y minoristas.

Para calcular estos agregados, primero tenemos que crear dos nuevas columnas, **Ingreso total esperado** y **Costo total esperado**. Estas son las fórmulas:

<img width="497" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202329227-c3b3b73c-83dc-4027-b059-213fab9cc448.png">

Observa que sólo hemos incluido el porcentaje de demanda estimado en la fórmula de los ingresos. Esto se debe a que sólo recibes ingresos de los libros que vendes, pero incurres en costos por todos los libros que produces, aunque no los vendas. A continuación te explicamos cómo crear las columnas:

![descarga](https://user-images.githubusercontent.com/87950040/202329404-2807f115-4472-4512-9eb4-ef2fab0ca101.gif)

**Ejemplo 2**

Calcula los ingresos totales esperados en todos los libros vendidos.

**Respuesta.** Vamos a crear una nueva hoja de cálculo llamada estadisticas utiles y a añadir algunas celdas con textos descriptivos. Podríamos calcular el total de ingresos esperados consultando y sumando los ingresos de cada libro en una fórmula, uno por uno. Pero esto consumiría mucho tiempo rápidamente, ¡sobre todo para cientos o miles de libros!

¿Hay alguna forma de reducir este esfuerzo? ¡Seguro que la hay! Podemos utilizar la función integrada SUMA() de Excel y hacer referencia a la columna correspondiente (¡no a una sola celda!) en la hoja de cálculo datos libros. ¿Cómo lo hacemos? Bien, haces referencia a un rango en una fórmula haciendo clic en la primera celda y arrastrando el cursor hacia abajo mientras lo mantienes pulsado. Luego escribes el paréntesis de cierre para salir del modo de selección:

![descarga](https://user-images.githubusercontent.com/87950040/202330526-1f6fcd72-8800-4fb8-af6c-d2bd49e4f801.gif)

**Ejercicio 5**

Calcula los costos totales esperados en todos los libros vendidos.

**Ejercicio 6**

Calcula la utilidad total esperada en todos los libros vendidos.

Pista: La utilidad total sería la diferencia entre los ingresos totales esperados y los costos totales esperados.

**Ejercicio 7**

Calcula el PVP medio por página. Para hacer esto, tendrás que crear una nueva columna en la hoja de cálculo datos libros (llámala PVP por página), que te indique el PVP por página de cada libro. Después, en la hoja de cálculo de estadísticas útiles, tendrás que utilizar la función PROMEDIO() para calcular la media de todos los libros. La sintaxis es similar a la de la función SUMA(); es decir, pasas el rango de celdas como entrada para la función.

Las funciones SUMA() y PROMEDIO() no son las únicas que tienes a tu disposición. Algunas otras son:

* CONTARA(): Cuenta cuántas celdas no vacías hay en un rango
* MIN(): Da el valor mínimo de un rango de celdas
* MAX(): Da el valor máximo de un rango de celdas

**Conclusiones y tips para recordar**

* **Referencias variables** - Son las que vienen por defecto en Excel. Actualizan las referencias de las celdas en función de la ubicación del destino del pegado
* **Referencias fijas** - No se actualizan cuando copias y pegas una fórmula. Puedes hacer que una referencia sea fija añadiendo $ tanto al principio del nombre de la columna como al principio del nombre de la fila. También puedes fijar sólo la columna o sólo la fila. Si quieres fijar la columna, añade el $ sólo al nombre de la columna (antes de la letra, por ejemplo, $A2); si quieres fijar la fila, añade el $ sólo al nombre de la fila (antes del número, por ejemplo, A$2).
* **Funciones incorporadas** - Para sumar un rango de celdas, puedes utilizar la función SUMA() y poner el rango de celdas entre los paréntesis. Para calcular promedios se utiliza PROMEDIO().

## CASO 3: Analizando y resumiendo datos de jugadores de tenis

**Objetivo**

Una vez terminemos este caso, serás capaz de consultar datos en Excel de forma eficiente utilizando operaciones comunes de filtrado, indexación, comparación y funciones condicionales. También aprenderás varias funciones clave de Excel, tales como:

* BUSCARV()
* BUSCARH()
* INDICE()
* COINCIDIR()
* SUMAPRODUCTO()
* SUMAR.SI()
* CONTAR.SI()
* PROMEDIO.SI()
* CONTAR.SI.CONJUNTO()

**Contexto general**

Asume que eres un analista de la Asociación de Tenis de los Estados Unidos (conocida como USTA, de acuerdo a las siglas en inglés de ‘United States Tennis Association’) y que te han encargado que analices los resultados de un torneo que tuvo lugar en 2020 en el estado de Pennsilvania. Tus conclusiones serán utilizadas por los altos ejecutivos de la empresa para introducir cambios en la forma de dirigir el torneo en los años siguientes.

**Problema de negocio**

Tienes que crear un libro de Excel para encontrar información específica de forma eficiente y calcular varias estadísticas relacionadas con el desempeño de los jugadores.

**Contexto analítico**

Tu jefe te ha proporcionado un archivo de Excel (<a href="Excel/data_es_estudiante.xlsx">data_es_estudiante.xlsx</a>), que contiene información de todos los partidos de tenis jugados durante el torneo, así como información histórica sobre la clasificación de los jugadores. Trabajarás en este libro de Excel para calcular las estadísticas necesarias.

**Todo se trata de filas y columnas**

Como hemos visto en los casos anteriores, el formato de Excel está constituido básicamente como una intersección de filas y columnas. Algo que debes tener en cuenta es que la primera fila suele considerarse especial y se conoce como fila de encabezado, esta es la que da nombre a los datos contenidos en cada columna. El archivo tiene varias hojas con información sobre partidos, jugadores y condados (los condados en Estados Unidos son parecidos a lo que nosotros en Colombia llamamos municipios). La hoja Partidos contiene información sobre cada uno de los partidos jugados, como por ejemplo los nombres de los jugadores que lo disputaron, la fecha del partido, su duración, los identificadores numéricos de los jugadores, etc.

**Filtrando datos**

Los filtros nos ayudan a localizar manualmente los datos que necesitamos sin alterarlos. Para crear filtros en cualquier hoja, sigue estos pasos:

* Selecciona toda la tabla que quieras filtrar. Un buen atajo, si lo único que hay en tu hoja es la tabla, es hacer clic en el pequeño triángulo que hay entre la columna A y la fila 1, que seleccionará toda la hoja:

![descarga](https://user-images.githubusercontent.com/87950040/202335144-369d832c-8857-474a-a422-f7cf2983e229.gif)

* En la pestaña Inicio de la barra de herramientas, haz clic en el botón "Ordenar y filtrar". Se abrirá un menú desplegable. Haz clic en "Filtrar".

![descarga](https://user-images.githubusercontent.com/87950040/202335266-ee6d1567-b074-43c6-8004-405e387f657d.gif)

En la siguiente imagen, podemos ver cómo filtrar la columna D con encabezado EdadAgo2021 (que representa la edad de los jugadores a Agosto de 2021) en la hoja de cálculo Jugadores para que sólo nos quedemos con los jugadores que tienen 30 años. Al hacer esto, se añadirá una pequeña flecha en la fila de la cabecera de todas las columnas. Estas flechas te permiten filtrar la tabla para encontrar los datos exactos que necesitas:

![descarga](https://user-images.githubusercontent.com/87950040/202335486-34d2db08-9f84-4077-88b1-4e1495e59bca.gif)

**Ejercicio 1**

¿Cuántos jugadores tienen exactamente 18 años?

**BUSCARV() y BUSCARH()**

El filtrado es una forma de limitar nuestros resultados, sin embargo, el proceso de extracción de los datos sigue siendo muy manual. ¿Cómo podemos extraer estos datos de manera más automatizada para reutilizarlos en otros lugares?

¡Démosles la bienvenida a las funciones BUSCARV() y BUSCARH()! Estos nombres son la abreviatura de “Buscar Vertical” y “Buscar Horizontal”. Como nuestros datos están en tablas verticales, utilizaremos BUSCARV(). La función BUSCARH() opera igual que BUSCARV(), sólo que con los ejes invertidos, así que debería ser muy fácil de entenderla después de conocer la primera.

Un ejemplo de algo que podemos buscar es el nombre de un jugador dado su identificador denominado IdJugador. Vamos a crear una nueva columna en la hoja de cálculo Partidos con el nombre del ganador.

La función BUSCARV() tiene tres argumentos obligatorios y uno opcional:

La celda que contiene el valor que vamos a buscar para ayudarnos a encontrar más información.
El rango de búsqueda en el cual buscará el valor (el rango se especifica indicando celda de inicio y celda de fin). Este rango de celdas debe tener el valor que buscamos en su primera columna.
El número de la columna en la que podemos encontrar el valor que necesitamos, contando desde la primera columna de nuestro rango.
Opcionalmente, podemos indicar a la función que queremos una coincidencia exacta poniendo la palabra clave FALSO en esta posición.

Aquí tienes un ejemplo ilustrativo:

![descarga](https://user-images.githubusercontent.com/87950040/202335903-36e30a37-368c-40f2-8c69-6050b3765112.png)

Ahora vamos a recrear cada uno de los pasos anteriores para nuestro objetivo concreto:

* El valor que queremos buscar está contenido en la celda B2.
* Para el rango en el que necesitamos buscar el nombre del jugador, utilizaremos la hoja Jugadores, y tomaremos el rango de celdas que comienza con A2 y termina con B346. Ten en cuenta que empezamos nuestro rango en la columna A, ya que es la que contiene los identificadores de los jugadores. Lo terminamos en la columna B porque contiene los nombres de los jugadores, pero también podríamos terminarlo en cualquier otra columna después de la K si quisiéramos datos que estuvieran más a la derecha.
* La columna B contiene nuestros datos deseados. Como la columna A contiene nuestro valor de búsqueda, B es la 2ª columna.
* Dado que queremos una coincidencia exacta, utilizamos FALSO como último argumento.

Así, nuestra fórmula final es:

```sh
=BUSCARV(D2;Jugadores!$A$2:$B$346;2;FALSO)
```

**Ejercicio 2**

Crea una nueva columna en la hoja de cálculo Partidos con los nombres de los perdedores de cada partido.

<img width="652" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202873716-87c97948-7c00-43fd-8e8d-8e2b8511b228.png">

Ahora sabemos cómo utilizar BUSCARV() y BUSCARH() para buscar información en una tabla. Sin embargo estas funciones tienen algunas limitaciones: en primer lugar, sólo pueden buscar datos en una columna que esté después de la columna inicial en un rango. Y en segundo lugar, sólo devolverán la primera coincidencia del rango cada vez, por lo que si queremos los datos posteriores a la primera coincidencia, no podremos conocerlos. Esto significa que la función BUSCARV() es más adecuada para tablas en las que cada fila tiene un identificador único, y ese identificador está en la primera columna.

**INDICE() + COINCIDIR()**

Una forma más flexible (y en general mejor) de buscar información es la combinación de las funciones INDICE() y COINCIDIR(). Utilizando una combinación de ambas, puedes buscar en las columnas anteriores a la columna con tu valor inicial y buscar valores más allá de la primera coincidencia que satisface tu conjunto de condiciones. Quizá son un poco más difíciles de entender al principio, pero a medida que avancemos, te irás sintiendo más cómodo con ellas.

**INDICE()** te da el resultado de un valor en un rango, dado el rango y la posición del valor dentro del mismo. También funciona para rangos horizontales, ¡e incluso funciona para rangos con múltiples columnas y filas! Sus argumentos son el rango de celdas donde se encuentra el valor y la posición de la celda correspondiente en ese rango:

![descarga](https://user-images.githubusercontent.com/87950040/202873973-bb71a60a-02cc-447c-b562-db5fb1b63b0e.gif)

Esto nos permite encontrar el valor de una celda concreta de un rango mirando su posición en ese rango. ¿Pero cómo podemos encontrar el valor de una celda si no conocemos su posición? ¡Fácil! Lo podemos hacer empleando la función COINCIDIR().

**COINCIDIR()** obtiene la posición de cualquier valor en un rango horizontal o vertical. La función necesita tres argumentos:

* El valor a buscar.
* El rango horizontal o vertical en el que hay que buscar el valor.
* (Opcionalmente) El número 0 si quieres encontrar una coincidencia exacta, o 1 o -1 si basta con una coincidencia aproximada. ¡Esto es importante! En la mayoría de los casos, probablemente querrás usar 0 para una coincidencia exacta. En este caso no vamos a explicar la diferencia entre poner un 1 o un -1, pero si estás interesado en aprenderla, puedes revisar este <a href="https://support.microsoft.com/es-es/office/funci%C3%B3n-coincidir-e8dffd45-c762-47d6-bf89-533f4a37673a">vínculo</a>.

COINCIDIR() te devolverá la posición de tu valor en la lista si existe:

![descarga](https://user-images.githubusercontent.com/87950040/202874169-0e81eb10-3903-4bb9-8f5e-f18b8870b1ff.gif)

Ahora, ¿cómo combinamos estas dos funciones para hacer una búsqueda completa? En lugar de los argumentos de posición de INDICE(), podemos utilizar COINCIDIR(). Así, en lugar de decirle a INDICE()en qué fila debe buscar la celda, dejamos que COINCIDIR() encuentre la fila por nosotros.

Por ejemplo, busquemos el Ranking del ganador de cada partido:

![descarga](https://user-images.githubusercontent.com/87950040/202874184-4ca3365d-7d58-428e-9cad-5a274b69648a.png)

La fórmula que escribimos en la celda H2 es:
```sh
=INDICE(Jugadores!$A$2:$H$346;COINCIDIR(D2;Jugadores!$A$2:$A$346;0);7)
```

Inicialmente puede parecer un poco abrumadora, pero ya veras que la vamos a entender mejor, si la analizamos por partes:

* COINCIDIR(D2,Jugadores!$A$2:$A$346,0): obtiene la posición del valor en la celda D2 (el Id del ganador en la hoja de cálculo Partidos) en la hoja de cálculo Jugadores.
* =INDICE(Jugadores!$A$2:$H$346,<RESULTADO DE COINCIDIR>,7) toma el número de fila que generó la función COINCIDIR() y lo pasa como argumento a la función INDICE(), que recupera el valor de la 7ª columna de la hoja de cálculo Jugadores (el ranking) que corresponde a ese número de fila. Aquí, <Resultado de COINCIDIR> está diciendo que lo que va aquí es el resultado de la función COINCIDIR(). Encerrar el texto entre un < y un > es una forma habitual de insertar comentarios cuando se habla de fórmulas o códigos en informática. Por ejemplo, también podrías decir que la sintaxis de la función INDICE() es:

```sh
=INDICE(<rango>, <número de fila>, <número de columna>).
```

**Ejercicio 3**

Ya que lo logramos con los ganadores, es ahora tu turno. Encuentra los rankings de los perdedores.

La ventaja de utilizar este enfoque, con las funciones INDICE() y COINCIDIR() en lugar de BUSCARV(), es que podemos buscar valores en cualquier fila o columna, lo que significa que la posición de la columna con el identificador único no importa, por lo que la búsqueda es más flexible.


**Resumiendo los datos**

Imagina que queremos saber como está relacionada la edad de un jugador con las posibilidades que tiene de ganar un partido. Podemos encontrar la respuesta a estas preguntas utilizando funciones de agregación, que toman varios valores y nos entregan un único resultado. Algunos ejemplos básicos de este tipo de funciones son las funciones SUMA() y PROMEDIO(), que por su nombre es muy probable que puedas intuir que hacen. Experimenta con ellas, y si quieres mas detalles aquí puedes ver su documentación: <a href="https://support.microsoft.com/es-es/office/suma-funci%C3%B3n-suma-043e1c7d-7726-4e80-8f32-07b23e057f89">- SUMA()</a> <a href="https://support.microsoft.com/es-es/office/promedio-funci%C3%B3n-promedio-047bac88-d466-426c-a32b-8f33eb960cf6">- PROMEDIO()</a>.

Otra función de agregación muy útil es **SUMAPRODUCTO()**. SUMAPRODUCTO() toma dos rangos del mismo tamaño, calcula el producto de las celdas correspondientes de cada rango (es decir, el producto de las primeras celdas de cada rango, el producto de las segundas celdas de cada rango, etc.), y luego suma todos estos productos.

Uno de los usos más comunes de esta función es el cálculo de los promedios ponderados. Probablemente estés familiarizado con los promedios ponderados desde tus días de colegio: tu nota se dividía en varios entregables, cada uno de los cuales tenía un peso diferente, y tu nota final se calculaba como el promedio ponderado de todos los entregables.

La sintaxis para calcular el promedio ponderado es la siguiente:
```sh
=SUMAPRODUCTO(<rango de ponderaciones>,<rango a promediar>)/SUMA(<rango de ponderaciones>)
```
Puedes ver la documentación de la función aquí: <a href="https://support.microsoft.com/es-es/office/sumaproducto-funci%C3%B3n-sumaproducto-16753e75-9f68-4874-94ac-4d2145a2fd2e">- SUMAPRODUCTO()</a>

Nota: Un promedio ponderado es diferente de un promedio normal, ¡no los confundas!

**Ejercicio 4**

Halla el promedio ponderado de la cantidad aces del ganador en relación con la cantidad de minutos jugados en cada partido como elemento de ponderación. Si no estás muy familiarizado con el tenis, ace es un punto ganado directamente en el servicio sin que el oponente toque la pelota con su raqueta.

¿Cómo interpretas el resultado?

**Funciones condicionales**

A veces querrás promediar sólo los valores de un jugador concreto, de un país concreto o de cualquier otra condición particular. Las funciones condicionales te permiten hacer precisamente eso: les proporcionas unas condiciones, y ellas ignoran cualquier valor a lo largo de un rango que no cumpla esa condición.

**PROMEDIO.SI()** es una de estas funciones y toma dos argumentos obligatorios y uno opcional:

* El rango sobre el que se va a comprobar el criterio o condición.
* La condición a comprobar.
* (Opcional) El rango sobre el que se va a calcular el promedio. Si no se proporciona, la operación se realiza sobre el rango indicado en el primer argumento.
Por ejemplo, utilicemos PROMEDIO.SI() para encontrar la duración promedio de los partidos jugados en los que ha ganado un jugador del Condado de Bradford. Puedes ver la fórmula en la celda A1 de la hoja DuraciónPromedio:
```sh
=PROMEDIO.SI(Partidos!J2:J1463;"=Bradford";Partidos!C2:C1463)
```

Las condiciones se ponen entre comillas dobles. Si quieres comprobar si los valores de un rango son superiores a 5, escribirías ">5" como condición. Si quieres comprobar si los valores son menores o iguales a 30, escribirías "<=30". En el ejemplo anterior, comprobamos la condición "=Bradford" a lo largo de la columna J, que contiene el código del condado del ganador de cada partido. También dimos el tercer argumento opcional con la columna C, que contiene el número de minutos del partido.

**Ejercicio 5**

Encuentra la duración media en minutos de los partidos jugados en los que ganó un jugador del condado de Fulton.

Otras funciones condicionales son SUMAR.SI(), CONTAR.SI() y CONTAR.SI.CONJUNTO(). SUMAR.SI() y CONTAR.SI() tienen una sintaxis similar a la de PROMEDIO.SI(). ¡Para CONTAR.SI.CONJUNTO(), puedes incluir hasta 127 sentencias condicionales! No es necesariamente una buena práctica hacerlo, ya que sería difícil hacer un seguimiento de tantas condiciones en una única función. La sintaxis de la función CONTAR.SI.CONJUNTO() es:
```SH
=CONTAR.SI.CONJUNTO(rango_de_criterio1, criterio1, rango_de_criterio2, criterio2,...)
```
Donde el ... representa la inclusión de condiciones adicionales.

Podemos utilizar esta función para calcular el número de partidos que duraron más de 120 minutos en los que el ganador tuvo menos de 60 puntos de saque (aces):
```SH
=CONTAR.SI.CONJUNTO(Partidos!C:C;">120";Partidos!L:L;"<60")
```
Lo que debería dar un resultado de 153.

**Ejercicio 6**

Calcula el número de partidos ganados por un jugador del condado de Franklin en los que el partido duró más de 100 minutos y hubo más de 80 puntos de saque ganador (aces).

**Conclusiones y tips para recordar**

En este caso, hemos aprendido a buscar información en Excel utilizando diversos métodos de filtrado y búsqueda de datos, como lo son BUSCARV(), BUSCARH() e INDICE() + COINCIDIR().

También aprendimos a aplicar funciones de agregación a nuestros datos para obtener información con un poco más de detalle (con funciones como SUMAPRODUCTO() y PROMEDIO.SI().

# Manipulación de datos en Excel

## Caso 4: Analizando E-sports
 
**Objetivos**
 
En este momento, tras desarrollar algunos casos en anteriores sesiones, ya deberíamos sentirnos cómodos con funciones de búsqueda tales como INDICE() + COINCIDIR() y con funciones de agregación como SUMA(), CONTAR(), y PROMEDIO(). En este caso, aprenderemos algunas funciones para procesar datos de tipo texto y veremos cómo trabajar con la lógica condicional en Excel. Las funciones que aprenderemos en este caso son:

* IZQUIERDA() 
* DERECHA()
* EXTRAE()
* CONCAT()
* ESPACIOS()
* MAYUSC()
* MINUSC()
* NOMPROPIO()
* SI()
* Y()
* O()
* NO()
* HALLAR()
* ENCONTRAR()
* SI.ERROR()
 
**Contexto de negocio**
 
Los deportes electrónicos, más conocidos por su referencia en inglés E-Sports, son una nueva y atractiva forma de competencia en la que los jugadores interactúan en videojuegos en lugar de hacerlo en vivo con deportes físicos. También son un segmento creciente de la industria de los videojuegos, especialmente desde la llegada de la tecnología de transmisión en directo que cada vez se hace más asequible y de mayor alta calidad. Supón que eres un analista de datos junior en una empresa de consultoría de marketing, y que uno de tus compañeros te ha pedido que busques y prepares algunos datos sobre los jugadores más populares y con mayores ingresos del mundo. Estos datos serán analizados por tu compañero para proporcionar información para una importante campaña de marketing que se avecina.
 
**Problema de negocio**
 
 Tendrás que preparar los datos para tu compañero y darle una idea del tipo de información interesante que podrá encontrar de ellos.
 
 **Contexto analítico**
 
Trabajarás con el archivo del libro de Excel <a href="">esports_ingresos_estudiante.xlsx</a>, que contiene información de los 1.000 mejores jugadores de E-Sports del mundo (en 10 juegos populares), en relación con los ingresos que tienen.
 
 ## Datos de texto: ¡los números son sólo la mitad de la historia!
 
Cuando trabajes con conjuntos de datos a lo largo de tu vida profesional, encontrarás muchos datos que se almacenan como texto en lugar de números. A veces incluso encontraremos campos de texto no estructurados, que son bloques de texto de forma libre que no se ajustan a reglas específicas y, por tanto, son mucho más difíciles de entender para los sistemas de cómputo.

Nuestro libro de Excel tiene 3 hojas:

* jugadores_mejores_ingresos: contiene la lista de los 1.000 mejores jugadores junto con sus nombres completos, su nombre de usuario, apodo o nickname en cada uno de los juegos que interactúan, el género del juego, su país de origen y sus ingresos totales.
* equipos_mejores_ingresos: es muy similar, pero contiene los nombres de los equipos en lugar de los jugadores. No aparece ningún país, ya que un equipo puede tener jugadores de muchos países.
* codigos_pais: contiene la lista de todos los países junto con sus códigos de país y los continentes en los que se encuentran.
 
También hay una 4ª hoja que contiene algunos ejemplos de fórmulas útiles llamada anexo_formulas.

Fíjate en que la hoja jugadores_mejores_ingresos no incluye el nombre completo del país o del continente de cada jugador: ¡vamos a aprender cómo incluir el nombre completo!
 
**Ejercicio 1**
 
Utilizando INDICE() y COINCIDIR(), rellena las columnas nombre_pais y nombre_continente de la hoja $jugadores_mejores_ingresos$ con los correspondientes nombres de país y continente de todos los jugadores.
 
## Extraer texto
 
Las primeras funciones que aprenderemos serán las que nos permitirán extraer parte de un bloque de texto. IZQUIERDA(), como su nombre indica, nos permite obtener la parte de la izquierda de una cadena de texto. El primer argumento es el texto del que quieres extraer una parte, y el segundo argumento es el número de caracteres que quieres extraer. Mira el ejemplo de la celda G4 de la hoja anexo_formulas. Puedes jugar con el número de la celda J4 para extraer unos cuantos caracteres más o menos de la cadena de texto.

DERECHA() funciona exactamente igual, pero toma los caracteres contando desde (lo has adivinado) ¡la derecha!

Por último, EXTRAE() toma los caracteres al interior de la cadena de texto. La función toma como argumentos el texto, la posición del primer carácter a partir del cual empezar a extraer el texto, y el número de caracteres a extraer. Consulta el ejemplo de la celda G7 de la hoja anexo_formulas.

Como habrás observado, todo lo que hay en una cadena de texto se cuenta como un carácter: ¡espacios, signos de puntuación e incluso emojis (si decides insertar uno en una celda)!

**Ejemplo 1**
 
Obtén la primera letra del nombre de todos los jugadores y colócala en la columna inicial_nombre de la hoja jugadores_mejores_ingresos.

Respuesta. Tenemos que introducir la fórmula =IZQUIERDA(B2; 1) en la celda K2 y arrastrarla hacia abajo.

**Ejercicio 2**
 
Haz lo mismo con los apellidos e incluyelos en la columna inicial_apellido.

Acabamos de aprender a extraer partes de cadenas de texto, pero ¿cómo hacer lo contrario? Es decir, juntar partes de textos y unirlas en uno único. CONCAT() es la respuesta. La función nos permite concatenar (es decir, unir) tantos trozos de texto como queramos en una sola cadena o bloque de texto.

CONCAT() funciona de manera muy sencilla: unirá como una única cadena de texto todos los elementos que le pases como argumentos, ya sean cadenas de texto, números o cualquier otro formato. Mira el ejemplo de la celda G13 de anexo_formulas.

Nota: En versiones anteriores de Excel, se utilizaba CONCATENAR() en lugar de CONCAT().

**Ejercicio 3**
 
Utilizando la función CONCAT(), une las iniciales tanto del nombre como del apellido de cada uno de los jugadores y regístralos en la columna iniciales_union de la hoja jugadores_mejores_ingresos.

## Limpiar y formatear el texto
Otras funciones nos ayudan a limpiar y dar formato al texto son: ESPACIOS(), NOMPROPIO(), MAYUSC(), y MINUSC().

ESPACIOS() limpia los espacios innecesarios del texto. De manera frecuente recibirás conjuntos de datos con valores de texto que tienen espacios al principio o al final de un valor de texto, o espacios dobles entre palabras. ESPACIOS() elimina todos los espacios al principio y al final, y sólo deja espacios sencillos entre las palabras. El único argumento que requiere es el texto a limpiar.

MAYUSC() hace que una cadena de texto quede completamente en mayúsculas, mientras que MINUSC() lo hace completamente en minúsculas. NOMPROPIO() pone en mayúscula la primera letra de cada palabra. Puedes ver ejemplos de todas ellas en las celdas G21 a G24 de la hoja anexo_formulas.

**Ejercicio 4**
 
Escribe la fórmula necesaria para transformar el texto poR_ fAVOr_ coRRigEME!_ a CORRIGEME. Supón que el texto a arreglar está ubicado en la celda A1.
 
## Lógica condicional
 
Ahora queremos conocer la distribución del dinero que ganan los equipos en los torneos. Vamos a crear una nueva columna en la hoja de cálculo equipos_mejores_ingresos que nos diga si el premio que ha ganado cada equipo es superior o inferior a un determinado umbral (digamos, 100.000 dólares). Para ello primero debemos promediar el total de premio en dólares en relación al número de torneos en que cada equipo participó.

Para ello utilizamos la función SI(), que nos permite comprobar si nuestros datos cumplen una condición y luego actuar sobre los resultados de forma dinámica. La sintaxis de esta función es la siguiente:

 ```sh
=SI(condición, valor_si_condición_es_verdadero, valor_si_condición_es_falso)
 ```
 
**Ejemplo 2**
 
Crea la columna mas_de_100.000 en la hoja de cálculo equipos_mejores_ingresos. El contenido de las celdas debe ser “Si” si el premio promedio es superior a 100.000 y “No” en caso contrario.

Respuesta. Escribe esta fórmula en la celda G2 y arrástrala hacia abajo: 
 ```sh
 =SI(C2/D2>100000;"Si";"No").
 ```
Para entenderla mejor, desagrega la fórmula:

* C2/D2>100000. Esta es la condición: “el premio promedio es superior a 100.000”.
 
* "Si". Si la condición es verdadera, el contenido de la celda debe ser la palabra “Si”.
 
* "No". Si la condición es falsa, el contenido de la celda debe ser la palabra “No”.
 
Es común que la función SI() vaya acompañada de las funciones Y(), O(), y NO(), que permiten comprobar condiciones más complejas. Con Y() puedes combinar varias condiciones en una sola, de forma que sólo sea verdadera si todas las condiciones más simples también lo son (es decir, si al menos una de ellas es falsa, entonces Y() dará un falso). O() es similar, pero con esta función, la condición compuesta será verdadera si al menos una de las condiciones más simples es verdadera y falsa en caso contrario. La única forma en que un O() puede dar lugar a un falso es si todas las condiciones son falsas. Por último, NO() invierte el valor de una condición. Por ejemplo, si C1>10 es verdadero, entonces NO(C1>10) será falso.

La sintaxis de los condicionaesY() y O() es:
```sh
=Y(condición_1, condición_2, ..., condición_n)
=O(condición_1, condición_2, ..., condición_n)
```
**Ejercicio 5**
 
Cuenta cuántos equipos ganaron más de 100.000 dólares por torneo y participaron en 5 torneos o menos.

**Ejercicio 6**
 
¿Cuántos jugadores del conjunto de datos no son de EEUU? (EEUU es la sigla que representa a Estados Unidos, y ‘us’ es el código de país asociado)

**Ejercicio 7**
 
Empleemos ahora un doble condicional. ¿Cuántos jugadores del conjunto de datos o no son de EEUU o tienen ingresos superiores a 500.000 dólares?

Pista: Usa la función O(). 
 
## Buscar texto
Las funciones HALLAR() y ENCONTRAR() nos permiten buscar una combinación especifica de caracteres dentro de nuestro texto. A primera vista parecen idénticas:

* Ambas nos permiten buscar la posición de un determinado valor de texto dentro de otro valor de texto
* Ambas toman como argumentos el valor que hay que buscar y el valor dentro del cual hay que buscarlo
* Ambas devuelven un número que representa la posición del valor encontrado, o un error si no se encuentra
 
Sin embargo, estas dos funciones tienen un par de diferencias clave. En primer lugar, ENCONTRAR() distingue entre mayúsculas y minúsculas y HALLAR() no. La segunda (y más importante) diferencia es que la función HALLAR() acepta caracteres que pueden emplearse como un comodín, esto quiere decir que puede encontrar variaciones de un valor de texto. Hay dos comodines: el carácter ? representa cualquier carácter simple, y el comodín * representa cualquier número de cualquier carácter. Puedes ver un par de ejemplos en las celdas G34 y G35 de la hoja anexo_formulas.

**Ejemplo 3**
 
Utilizando la función ENCONTRAR(), calcula cuántos jugadores tienen apodos que tengan al menos una “E” mayúscula.

Respuesta. Podemos arrastrar la fórmula =ENCONTRAR("E"; D2) en la hoja jugadores_mejores_ingresos. ¡Sin embargo, para muchas de las celdas, el resultado será el error #¡VALOR! Esto se debe a que si ENCONTRAR() no encuentra el texto que busca, dará un error. Antes de que podamos responder a la pregunta de cuántos jugadores tienen apodos que tengan al menos una “E” mayúscula, tenemos que hacer que nuestra fórmula produzca un valor significativo en lugar de este error.

Podemos utilizar la función SI.ERROR() para detectar esos errores y sustituirlos por una cadena de texto vacía. Esta es otra función que puedes utilizar para trabajar con la lógica condicional en Excel. La sintaxis de la función es:
```sh
SI.ERROR(valor, valor_si_error)
```

Entonces podemos contar todas las celdas no vacías del rango, lo que nos daría la respuesta. En concreto, arrastraríamos =SI.ERROR(ENCONTRAR("E"; D2); "") por la columna P, y luego usaríamos =CONTAR(P:P).

## Conclusiones y tips para recordar
 
En este caso hemos aprendido a trabajar con datos de texto. También hemos conocido una de las funcionalidades más importantes de Excel: las sentencias condicionales. Esperemos que para este momento te sientas lo suficientemente familiarizado con Excel como para consultar y manipular conjuntos de datos de tamaño pequeño o mediano con ellas.

Ten en cuenta que no tienes que limitarte a trabajar con condiciones simples ya que siempre puedes combinar la función SI() con otras como Y(), O(), NO(), y SI.ERROR(). Mézclalas además con funciones como IZQUIERDA(), DERECHA(), o EXTRAE(). ¡Las posibilidades para combinarlas son infinitas, así como las preguntas que puedes responder utilizando las funciones que ahora conoces!
 
 
 # Visualización De Datos
 
 ## Caso 5: ¿Cómo podemos comunicar claramente las tendencias del PIB utilizando visualizaciones?
 
**Objetivos**
 
En este caso aprenderás a seleccionar el tipo de gráfico más adecuado para visualizar determinados tipos de datos así como algunas habilidades para preparar y presentar los datos de forma profesional.
 
**Contexto general**
 
Eres un empleado de GoodEconomists, una ONG que hace campaña para mejorar el nivel de vida en todo el mundo. Debido a que tienen recursos financieros muy limitados, GoodEconomists no dispone de un gran presupuesto para difusión y márketing. En lugar de eso, confían en su capacidad para hacer publicaciones de historias contundentes acompañadas de excelentes gráficas para llamar la atención de las personas. Te han pedido que trabajes en la presentación de datos y gráficos de su próximo informe sobre el PIB y sus implicaciones para la economía de las personas menos favorecidas.

**Problema a resolver**
 
 Tu jefe te ha pedido que respondas a la siguiente pregunta “¿Cómo podemos comunicar claramente las fuertes correlaciones que tiene el PIB con otros factores?”

**Contexto temático**
 
Los datos relevantes son un par de archivos públicos que contienen información sobre el PIB de diferentes países. El primero es sobre el PIB y la esperanza de vida y se llama gdp_data.xlsx. También tenemos un conjunto de datos llamado gdp_data_years.xlsx. Es similar, aunque tiene un formato diferente. Cada columna es un año para que podamos ver la evolución del PIB a lo largo del tiempo. No incluye datos sobre el tamaño de la población ni la esperanza de vida.
 
## Una primera mirada a los datos
 
Abre los archivos de Excel para poder crear estas visualizaciones. Echemos un vistazo a nuestras tablas para hacernos una idea de cómo son nuestros datos.

Nota: Estas tablas contienen muchos registros, por lo que a continuación sólo se mostrarán unas porciones de las mismas.

Primero tenemos gdp_data.xlsx:
 
<img width="287" alt="image" src="https://user-images.githubusercontent.com/87950040/203886400-cfda8f2f-09cc-4bdf-8592-62abe8e406fa.png">

Podemos extraer bastante información de esta tabla:

* pais: El nombre del país
* continente: El nombre del continente
* expVida: La expectativa o esperanza de vida promedio de una persona en ese país (en años)
* pob: La población del país
* pibPercap: El PIB per cápita, o la producción económica media de cada persona en el país
 
Al abrir el archivo gdp_data.xlsx, vemos que el conjunto de datos no tiene formato.

Para darle formato de tabla, selecciona el área que está a la izquierda del marcador de la columna A, y encima del marcador de la fila 1 para que todos los datos queden resaltados. A continuación, selecciona Insertar y luego Tabla, como muestra la animación: 
 
![descarga](https://user-images.githubusercontent.com/87950040/203886629-5cfeb561-940a-4cd8-80dd-6ff2b24def7a.gif)

**Nota**: En algunas versiones de Excel, esto podría crear también una tabla con columnas vacías. Si eso ocurre, deshaz el cambio y selecciona sólo las columnas que quieras formatear.

Darle formato tabla te permite filtrar fácilmente los datos. Por ejemplo, puedes seleccionar la flechita que aparece ⌄ a la derecha de continente, y luego configurarlo para que sólo muestre los países de Asia.

 ![descarga](https://user-images.githubusercontent.com/87950040/203886732-cb4ef89b-7559-4545-a571-2464b8d4988f.gif)

También puedes ordenar fácilmente la tabla por población, esperanza de vida, etc.

También tenemos gdp_data_years.xlsx:
 
 ![image](https://user-images.githubusercontent.com/87950040/203886964-964f8266-c6b8-4df6-97cb-97ab415b5532.png)

 Aquí no vemos todas las columnas porque la tabla es demasiado grande, pero podemos resumir la información de esta tabla de la siguiente manera:

* Nombre del País: El nombre del país
* Código del País: El código de tres letras del país
* 1960 - 2019: El valor del PIB en USD para cada año desde 1960 hasta 2019 (Nota: Aquí sólo se muestra 1960-1963, el resto de la tabla es la misma pero continúa hasta 2019).
 
## Datos y tipos de gráficos 
 
Casi cualquier conjunto de datos que quieras presentar o visualizar estará formado por variables que pueden considerarse de diferentes maneras. La mayoría de las variables pueden considerarse como variables o bien categóricas, o bien numéricas. Por ejemplo, en nuestro conjunto de datos la variable continente es una variable categórica, porque podemos clasificar los países según el continente al que pertenecen, aunque esta clasificación no es inherentemente comparable: no sabemos en qué orden van los continentes (aunque podríamos inventar una forma, como por ejemplo por población total o superficie).

También tenemos la variable pob (correspondiente a la población), que es numérica. Las variables numéricas sí tienen un orden natural. En este caso, claramente podemos ordenar los países por su población de mayor a menor o de menor a mayor.

Aunque hay cientos de tipos diferentes de gráficos, los principales gráficos en los que nos centraremos son los siguientes:
 
* Tabla
* Gráfico de barras
* Gráfico Circular
* Gráfico de dispersión
* Gráfico de líneas
* Gráfico de cajas
 
La elección de cuál de ellos es el más adecuado suele depender tanto del tipo de datos que tengas (categóricos, numéricos o ambos) como del tipo de mensaje que desees comunicar. Por ejemplo, puede que quieras mostrar cómo cambian tus datos a lo largo del tiempo, cómo se distribuyen según una tabla de frecuencias o cómo se comparan dos grupos entre sí.

Es muy común ver que se utilizan erradamente los tipos de gráficos, o que se presentan mal los datos, incluso dentro de un gráfico correctamente elegido. Por eso, si queremos que nuestro trabajo sea realmente profesional, ¡debemos saber usar nuestras herramientas!
 
## PIB, población y esperanza de vida
 
Intentemos visualizar la población total de cada continente (sumando la población de cada país de ese continente) mediante tablas, diagramas de barras y gráficos de torta:
 
 **Tabla**
 
<img width="502" alt="image" src="https://user-images.githubusercontent.com/87950040/203887615-2ab82808-7b7e-4f13-abb6-e57078172853.png">
 
**Nota:** Como los datos provienen de la Fundación Gapminder, que los publica en inglés, tenemos los nombres de los continentes en inglés. “Europe” es Europa y “Americas” incluye Norteamérica, Centroamérica y Suramérica.

Una forma fácil de recrear esta tabla es creando una tabla dinámica. Selecciona las cinco columnas de tus datos, haz clic en la pestaña Insertar y luego en Tabla dinámica. Selecciona Desde una tabla o rango, y ahora verás el panel Creación de tabla dinámica que te da la opción de colocar la tabla en una Hoja de cálculo nueva o en una Hoja de cálculo existente.
 
 ![image](https://user-images.githubusercontent.com/87950040/203887864-3f2b4ce8-a345-4765-9b16-2a1490646725.png)

Selecciona Hoja de cálculo existente y elige cualquier celda vacía a la derecha de tus datos donde haya espacio para poner una tabla. En este caso, se ha seleccionado G4. Luego elige Aceptar y verás un nuevo panel que dice Campos de tabla dinámica. A la izquierda, hay una lista de las cabeceras de las columnas. Arrastra continente a la casilla de Filas y arrastra pob a la de Valores. El valor por defecto es Suma de pob. (Puedes cambiar el cálculo haciendo clic en Suma de pob y seleccionando Configuración del campo de valor, y eligiendo una opción diferente que se ajuste a tus necesidades, como un conteo o un promedio, por ejemplo).
 
 
 ![image](https://user-images.githubusercontent.com/87950040/203888095-90e34a63-502c-4307-a7bb-27689eb2afc4.png)

Una vez que hayas elegido esas opciones, podrás ver la tabla con la suma de la población por continente. Puedes cerrar el panel de la tabla dinámica, y verás que la tabla tiene una fila que dice (en blanco). Para eliminar el espacio en blanco, selecciona la flechita ⌄ junto al continente en la tabla que acabas de crear. Selecciona Filtrar y desmarca la casilla junto a (en blanco).
 
![image](https://user-images.githubusercontent.com/87950040/203888153-70fb6525-aef0-497e-ae6e-8914f209be7f.png)

## Gráfico de columnas
 
![image](https://user-images.githubusercontent.com/87950040/203888683-ac6c4bbf-3b2e-4812-bdd0-c794c9918bb1.png)

Para crear este gráfico, selecciona los datos de la tabla dinámica que acabas de crear, selecciona la pestaña Insertar y Columna agrupada dentro de el espacio donde aparecen los gráficos. A menudo, los términos Gráfico de barras y Gráfico de columnas se utilizan indistintamente. Sin embargo, Excel reserva el término Gráfico de Barras para los gráficos en los que las barras son horizontales, y denomina Gráfico de Columnasa gráficos como este. Los datos categóricos pueden visualizarse con barras verticales u horizontales.
 
![descarga](https://user-images.githubusercontent.com/87950040/203888777-034e4a02-4bda-4129-acdb-8328de19a276.gif)

Verás que este gráfico tiene un aspecto diferente al del ejemplo. Si haces clic con el botón derecho en el gráfico y eliges Formato, deberías ver las opciones para cambiar la apariencia del gráfico. Puedes hacer clic con el botón derecho del ratón en la tabla de datos y ordenar por la población, y experimentar con las opciones de formato.
 
 ## Gráfico circular
 
 ![image](https://user-images.githubusercontent.com/87950040/203889530-770a4c4f-100c-496c-8784-b623750eab00.png)

Crear un gráfico circular es similar a crear un gráfico de barras. Selecciona Gráfico Circular en la misma pestaña Insertar.
 
![image](https://user-images.githubusercontent.com/87950040/203889590-b1c93046-5a7c-4825-a347-f146141c68b1.png)


Haz clic con el botón derecho del ratón, selecciona Formato y ajusta la configuración para cambiar el aspecto del gráfico.

Al elaborar visualizaciones, hay algunas directrices generales que debes tener en cuenta para que las imágenes sean fáciles de interpretar para tus lectores:

* El título de cada gráfico debe explicar el mensaje de la visualización, no sólo una descripción de los datos. Así, en lugar de decir “Población por continente”, intenta encontrar la historia que hay detrás de los datos y utilizarla como título de cada gráfico. Como por ejemplo: “Asia es el continente más poblado”.
* Utiliza etiquetas y leyendas según corresponda.
 
**Ejercicio 1**
 
Explica cuáles son las ventajas e inconvenientes de cada uno de los tres enfoques anteriores para visualizar estos datos.
 
 
## Gráficos de dispersión
 
Ahora que hemos echado un rápido vistazo al conjunto de datos y a la población por continentes, vamos a empezar a ver los datos que realmente hemos venido a buscar: el PIB de cada país. Tu hipótesis es que el PIB afecta a la esperanza de vida, por lo que esperas ver que la gente de los países más ricos vive más tiempo. Veamos un gráfico de dispersión del PIB per cápita frente a la esperanza de vida:

![image](https://user-images.githubusercontent.com/87950040/203889752-710a2ccd-b166-41a0-8d3a-701ec38bb5d8.png)

Podemos ver en este gráfico que nuestra hipótesis probablemente es correcta, por lo que titulamos el gráfico de acuerdo a ello. Utilizamos el PIB per cápita (USD) como eje $x$  y la esperanza de vida (años) como eje $y$  porque queremos ver el efecto que tiene el PIB sobre la esperanza de vida y los gráficos de dispersión suelen leerse en este orden. Si calculamos la correlación, encontramos que la correlación global entre el PIB y la esperanza de vida es de 0,68, una correlación bastante fuerte (puedes leer más sobre la correlación aquí).

Para crear este tipo de gráfico, a menudo es mejor configurar primero los datos de forma que el eje $x$ vaya antes que el eje $y$. Empieza haciendo clic en la letra de la columna que corresponde a expVida para seleccionar toda la columna, y copia la columna. Pégala a la derecha de pibPercap, y luego selecciona tanto pibPercap como la nueva columna que has creado. En la pestaña Insertar, elige la primera opción de la parte superior izquierda en Dispersión.
 
 ![image](https://user-images.githubusercontent.com/87950040/203889900-6beb46ba-fd38-46d0-89d8-62fadda2a968.png)

Haz clic derecho en el gráfico, elige Formato y realiza ajustes en el gráfico para actualizarlo con un título mejor, añadir títulos a los ejes y para realizar cualquier otro cambio que desees.

**Pregunta 1**
 
¿Por qué es adecuado un gráfico de dispersión para este análisis?
 
**Ejercicio 2**
 
2.1 La información anterior es útil para mostrar que hay una correlación bastante fuerte entre el PIB y la esperanza de vida en todo el mundo, pero podemos ver en el gráfico de dispersión que hay algunas agrupaciones inusuales, especialmente hacia el lado izquierdo del gráfico, donde el PIB es bajo. ¿De qué manera podriamos mejorar nuestro gráfico de dispersión para mostrar información más específica de cada región del mundo?

2.2 ¿Qué representa la agrupación de la parte izquierda del gráfico? ¿Qué conclusión sacas de ella?

2.3 Veamos la correlación desglosada por regiones:
 
<img width="514" alt="image" src="https://user-images.githubusercontent.com/87950040/203890994-e938a964-7bd7-4977-b3bd-7d7744b0008a.png">

 ¿Cómo afecta esto a nuestra hipótesis original?
 
 ## Tendencias del PIB a lo largo del tiempo
 
 Hasta ahora hemos examinado los datos de un solo punto en el tiempo, y hemos utilizado gráficos de barras y de dispersión para presentarlos. Nuestro segundo conjunto de datos incluye datos recogidos desde la década de 1960 hasta la década de 2010, por lo que naturalmente recurriremos a los gráficos de líneas.
 
 ![image](https://user-images.githubusercontent.com/87950040/203892490-f81c4211-8e0d-4829-8932-0c850031945c.png)

 Para este ejercicio, utiliza el archivo gdp_data_years.xlsx. Los datos que queremos están en la pestaña gráfico_de_líneas.

Para crear este gráfico, selecciona las filas 8 y 9, y en la pestaña Insertar elige la primera opción de la parte superior izquierda bajo Líneas.
 
![image](https://user-images.githubusercontent.com/87950040/203892545-4a504e90-de7c-4095-bd4c-37faec5bcc9d.png)

 Abre el panel de formato haciendo clic derecho sobre el gráfico y seleccionando Formato.
 
**Ejercicio 3**
 
Ya sabemos que el PIB ha ido creciendo a lo largo del tiempo, pero queda la inquietud sobre qué tanto ha crecido.

* ¿Por qué un gráfico de líneas es apropiado para este propósito?
* ¿Qué etiquetas utilizarías para representar mejor la información en tu gráfico de lineas?
* ¿Qué problema podrías encontrar al sumar todos los PIB de los países para obtener el PIB mundial?
 
**Ejercicio 4**
 
Escojamos algunos países de interés y creemos un nuevo gráfico de líneas que sólo se centre en ellos. Utilizaremos los siguientes países: Brasil, China, India, Japón y Estados Unidos:
 
 ![image](https://user-images.githubusercontent.com/87950040/203892693-3952a8e8-efd1-46fc-8996-2e6be0f8e857.png)

Puede que crear esta gráfica en Excel sea un poco complejo. ¡Pero intentémoslo!

Selecciona las 6 primeras filas de la hoja gráfico_de_líneas y, a continuación, selecciona Dispersión en la pestaña Insertar y elige la primera opción de la parte superior izquierda. Puede que tengas que seleccionar Cambiar fila/columna en el extremo izquierdo de la pestaña Gráfico. Verás que la pestaña Gráfico aparece en la parte superior de la barra de herramientas cuando hagas clic en el gráfico. Puedes seleccionar la pestaña Gráfico haciendo clic en Gráfico. A continuación, selecciona Línea y elige la primera opción de la parte superior izquierda.
 
![image](https://user-images.githubusercontent.com/87950040/203892740-16adc6a2-9c71-46c8-bb90-f5f993785ab1.png)

 Ajusta el formato según sea necesario.

¿Qué tendencias podemos deducir de este gráfico? ¿Qué problemas hay en la presentación de estos datos?

Pudimos obtener mucha más información de nuestro gráfico de líneas una vez que lo separamos en varios países, pero ¿qué pasa si queremos incluir más de 5 países en nuestra visualización?
 
 ## Gráficos de caja
 
En este caso, el gráfico de líneas se vuelve muy desordenado y su capacidad para presentar la información de forma coherente se reduce. Una herramienta útil para ver el agregado de nuestro conjunto de datos de forma más clara es el gráfico de caja. Aquí tenemos un diagrama de caja del PIB a lo largo del tiempo para los 20 principales países de nuestro conjunto de datos:
 
 ![image](https://user-images.githubusercontent.com/87950040/203892849-dae987ea-72bd-46a4-ba1f-2e88437207cc.png)
 
 Podemos ver algunos valores atípicos bastante significativos en la parte superior del gráfico. Esto se debe probablemente a algunos de los países con mayor PIB, como Estados Unidos y China.

Nota sobre los gráficos de caja: Están disponibles en Excel en la pestaña Insertar bajo Otras gráficas si quieres experimentar con ellos. No se suelen utilizar en la presentación de datos porque no son visualmente intuitivos, pero es importante entender cómo se leen.
 
![image](https://user-images.githubusercontent.com/87950040/203892925-e820897a-7b22-44a3-a8b7-7d58f29e60c2.png)
 
 La gran idea de los gráficos de caja, también conocidos como gráficos de caja y bigotes, es que muestran la distribución de los datos. ¿Dónde se encuentra la mayoría de nuestros datos en un rango? La cosa se pone un poco matemática porque las diferentes partes de los gráficos de caja deben calcularse en función de algunas reglas:
 
<img width="510" alt="image" src="https://user-images.githubusercontent.com/87950040/203892999-81b3d86f-e8df-48c6-ba84-227e8caf4f37.png">

 
 **Ejercicio 5**
 
Vuelve a mirar el diagrama de caja anterior que muestra el PIB a lo largo del tiempo para los 20 países más importantes de nuestro conjunto de datos. ¿Qué cambios se pueden hacer en el gráfico de caja para representar mejor nuestros datos? ¿Qué etiquetas habría que cambiar?

## Conclusiones
 
El PIB es una métrica que se ha vuelto controvertida porque es una forma muy cruda de medir la actividad económica. Sin embargo, puede proporcionar una perspectiva interesante para observar países concretos y cómo se relacionan entre sí. Después de observar correlaciones como “la gente de los países más ricos vive más tiempo” es tentador establecer un vínculo de causalidad (por ejemplo, “si los países más pobres aumentan su PIB, sus ciudadanos vivirán más tiempo”), pero la correlación no es lo mismo que la causalidad y vimos que en ciertas regiones del mundo incluso la correlación era tenue.

Vimos que EEUU y China hacen ver más pequeños a la mayoría de los demás países en términos de PIB, y que el crecimiento del PIB de Japón, anteriormente fuerte, se ha estabilizado en las últimas décadas.

## Tips para recordar
 
Para presentar bien los datos, tienes que tener constantemente en cuenta dos cosas:

Elegir la forma correcta de visualizar los datos
Hacer que la historia sea fácil de entender teniendo cuidado con los detalles de la presentación, como los títulos y las etiquetas
En este caso, has visto que:

* Los gráficos de barras son buenos para un análisis básico, mostrando cómo se relacionan las variables categóricas con las numéricas. En circunstancias muy concretas, los gráficos circulares también pueden utilizarse para esto cuando te interesan los tamaños relativos frente a los absolutos.
* Los gráficos de dispersión se utilizan para mostrar cómo se relacionan las variables numéricas entre sí, y son buenos para observar las correlaciones
* Los gráficos de líneas son casi siempre adecuados para mostrar cómo cambian los datos continuos a lo largo del tiempo
* Los gráficos de caja son una gran herramienta si necesitas mostrar algo más que un resumen básico (como una media), pero no quieres dibujar la distribución completa de cada variable (que puede ser engorroso y demasiado detallado). Muestra diagramas de caja si tu audiencia los entiende.
También has visto lo importante que es conseguir todos los detalles al presentar los datos. Es muy común que la gente utilice etiquetas erróneas o engañosas, o que utilice títulos que no aportan nada a la visualización. Ten siempre cuidado de utilizar las unidades correctas y de etiquetar claramente cuáles son, al tiempo que utilizas el título para resumir el mensaje que hay detrás de los datos.
 
 
 # Tablas Dinámicas
 
 ## Caso 6: Explorando las reseñas de CDs y discos de vinilo en Amazon
 
**Objetivos**

Este es un caso para practicar algunos conceptos que ya hemos aprendido en el curso. Hoy vamos a crear visualizaciones sencillas en Excel, incluyendo tablas dinámicas, gráficos de barras, de torta y de líneas. Vamos también a modificar dichos gráficos para personalizar su estilo y presentación.

**Contexto general**

Eres un analista de datos que trabaja en Amazon y te han pedido que investigues algunas calificaciones de CDs y Vinilos de la tienda. Se te ha pedido que sólo hagas una exploración inicial a la que se hará seguimiento más adelante. Por ahora, lo que más te interesa es comprender el conjunto de datos y explorarlo para encontrar algunas tendencias preliminares. Utilizarás los conocimientos que has aprendido hasta ahora para decidir qué gráficos nos ayudarían a conocer los datos de una mejor manera.
 
**Problema a resolver**

Tu jefe te ha pedido que generes algunas visualizaciones que permitan mostrar tendencias dentro del conjunto de datos de calificaciones de CDs y vinilos. Puntualmente, te ha pedido:

* Identificar la frecuencia con la que aparece cada calificación dentro del conjunto de datos y los precios medios asociados a estas calificaciones
* Comprender los cambios en el precio promedio a lo largo del tiempo
 
**Contexto analítico**

Te han proporcionado un conjunto de datos, amazon_reviews.xlsx, que incluye las calificaciones de una serie de CDs y Vinilos. Las calificaciones están en la columna overall (“overall” significa “general” en inglés, como diciendo “calificación general”). Los datos constan de una muestra de 1000 reseñas.

## Cómo extraer los datos

Vamos a descargar el archivo de Excel y a abrirlo. Antes de comenzar a analizar los datos, vamos a comprender y a validar el contenido del archivo. Para comprenderlo adecuadamente, es necesario que notes que el archivo está en idioma inglés y por tal motivo, a continuación mostramos el significado de cada columna:

* amazon-id: Corresponde a un identificador propio de Amazon para cada registro correspondiente a un CD o vinilo en el archivo.

* title: "Título" en español, corresponde al nombre del álbum (CD o vinilo).

* artist: "Artista" en español, corresponde al nombre del artista o autor del álbum.

* price: "Precio" en español, corresponde al valor del artículo en Amazon (CD o vinilo). Está dado en dólares estadounidenses (USD).

* overall: "General" en español, realmente corresponde a la calificación del álbum (CD o vinilo). Este es uno de los datos más relevantes que se nos pide analizar sobre este dataset. Sus posibles valores son: 1,2,3,4 o 5 (medido con estrellas).

* reviewText: "Texto de la reseña" en español, corresponde al texto digitado por la persona que ha realizado una reseña e incluido una calificación en Amazon sobre cada álbum.

* summary: "Resumen" en español, corresponde al título o resumen de la reseña del álbum, realizada por un usuario en Amazon.

* reviewTime: "Momento de la reseña" en español, corresponde a la fecha en la cual se realizó la reseña del álbum por parte de un usuario en Amazon.

Cuando abrimos por primera vez cualquier archivo, es una buena práctica comprobar que los datos están completos y son correctos. Por ejemplo, probablemente queramos comprobar que cada columna está especificada con el tipo de dato correcto. Esto es posible hacerlo como se observa en la imagen siguiente. Todas las columnas deben ser del tipo "General", excepto price y overall, que deben ser "Moneda" y "Número" respectivamente, y reviewTime, que debe ser del tipo "Fecha".
 
![image](https://user-images.githubusercontent.com/87950040/204088847-54a8818e-9534-46fd-867f-137c43370a70.png)

## Explorando el conteo de calificaciones

Para comenzar nuestro análisis, la primera tarea consistirá en identificar la prevalencia de cada valoración en el conjunto de datos. Podemos hacerlo generando una tabla dinámica en Excel, que nos ayudará a identificar el conteo de valores dentro de nuestro conjunto de datos para cada una de las categorías de calificación. Para ello, primero seleccionaremos todo nuestro conjunto de datos y luego iremos a la pestaña "Insertar" de Excel. Puedes seleccionar los datos de muchas maneras. Una de ellas es seleccionar todas las columnas y, a continuación, pulsar Ctrl + Mayús + Abajo.

![download](https://user-images.githubusercontent.com/87950040/204088905-dcc01a49-6dad-4b42-8eb5-be56251795a7.gif)

A continuación, seleccionamos el botón "Tabla dinámica". Queremos comprobar que la tabla dinámica accede a todos nuestros datos para poder elegir lo que queremos utilizar en el siguiente paso. (Cuando seas más experto, podrás seleccionar sólo lo que necesites, pero por ahora vamos a seleccionar todos los datos para estar seguros). En la ventana que se abre luego de dar click en "Tabla dinámica", pulsa "Hoja de cálculo nuevo" y el botón "Aceptar". Excel abrirá una nueva hoja en la que podrás trabajar con la tabla dinámica:

![download](https://user-images.githubusercontent.com/87950040/204088943-83631cfe-9dc3-46ef-a654-910956e679bb.gif)

En la parte derecha, verás un panel con el título "Campos de tabla dinámica" que contiene los nombres de todas las columnas de nuestra hoja original. Justo debajo, verás 4 áreas: "Filtros", "Filas", "Columnas" y "Valores".

Las tablas dinámicas son mágicas por su facilidad de uso. Para analizar los datos, lo único que tenemos que hacer es arrastrar los campos del panel "Campos de tabla dinámica" a una de estas 4 áreas.
 
## ¿Cómo funciona una tabla dinámica?
 
Para un mejor entendimiento, primero tenemos que comprender qué significan esas 4 áreas. En general:

* Las "Filas" indican qué campos quieres tener agrupados en las filas de la tabla dinámica
* Las "Columnas" indican los campos que quieres agrupar en las columnas de la tabla dinámica
* "Valores" indica qué campos quieres tener como valores en las celdas interiores de la tabla dinámica
* "Filtros" indica por qué campos quieres poder filtrar los datos

Para la tarea de identificar la prevalencia de cada calificación en el conjunto de datos, seleccionaremos nuestra columna overall y la arrastraremos al área "Filas", que toma cada calificación y la coloca en las filas de nuestra tabla dinámica. A continuación, volvemos a seleccionar overall y la añadimos a la parte de "Valores" del menú. Esto puede generarse como una suma al principio, ¡pero eso no es lo que queremos ahora! En realidad no nos interesa sumar las calificaciones, ya que eso no nos diría nada sobre el producto. En su lugar, queremos contar cuántas personas lo han calificado con 1, cuántas lo han calificado con 2, y así sucesivamente, para hacernos una idea del patrón de calificación general del producto. Si haces click en el menú desplegable de "Valores" y, a continuación, en "Configuración del campo de valor", puedes abrir una ventana que te permite cambiar la estadística utilizada. Aquí queremos seleccionar la estadística "Recuento". Una vez hecho esto, ¡tendrás una pequeña tabla dinámica!
 
 ![download](https://user-images.githubusercontent.com/87950040/204089233-eeb74c65-7d25-4686-b8f0-47dea5230dd2.gif)

**Pregunta 1**
 
Consideremos cómo podríamos querer visualizar estos datos de conteos. ¿Qué tipos de visualizaciones funcionan mejor para mostrar este tipo de información?

Respuesta. Un enfoque sería hacer un gráfico de columnas. Para ello, volvamos a la pestaña "Insertar" y busquemos el área de creación de gráficos. Desde ahí, podemos ir a los gráficos de columnas y seleccionar "Columna agrupada". Se debería generar automáticamente un gráfico de barras:

![download](https://user-images.githubusercontent.com/87950040/204089973-6730ddca-fa24-495a-8546-72207f5ce3ce.gif)

Echemos un vistazo al gráfico de barras que acabamos de crear. ¿Qué cosas de esta visualización parecen un poco extrañas? ¿Hay cosas que podríamos hacer para mejorarla?

Como probablemente lo hayas identificado, hay algunas cosas que podrían mejorarse aquí. En primer lugar, tenemos una leyenda que no añade demasiado contexto. En segundo lugar, nuestro título no es nada útil y podría actualizarse para ser más informativo.

Para eliminar la leyenda, podemos simplemente ir a "Leyenda" en el menú "Gráfico" y seleccionar "Ninguno". Piensa en por qué probablemente no necesitamos esta leyenda aquí. ¿Cuándo sería útil o necesario tener una leyenda?
 
 ![downloa](https://user-images.githubusercontent.com/87950040/204090040-f81f1bc5-5d9a-4f79-9646-3697fe2cb5aa.gif)

Para cambiar el título, sólo tenemos que ir a "Título del gráfico", hacer clic en "Editar título de gráfico" y escribir lo que consideremos adecuado. Aquí hemos utilizado el título "Conteo de calificaciones en el conjunto de datos". ¿Cómo se podría mejorar esto? ¿Y qué hace que un título sea bueno o malo?

![download](https://user-images.githubusercontent.com/87950040/204090088-ec21c25c-147a-405e-978d-073b91361fc5.gif)

**Ejercicio 1**
 
Un gráfico de torta es otra posible opción para visualizar este tipo de datos. Intenta crear un gráfico de torta utilizando lo que ya hemos discutido sobre cómo crear un gráfico de barras.

Ahora que tenemos un gráfico de torta, podemos actualizar las etiquetas de los datos y el título. Es posible actualizar las etiquetas seleccionando los datos en el gráfico, haciendo clic con el botón derecho y seleccionando "Añadir etiquetas de datos". Una vez añadidas, podemos volver a ese mismo menú para editar las etiquetas seleccionando "Formatear etiquetas de datos". En este ejemplo, seleccionaremos la calificación, el recuento y el porcentaje como etiquetas de datos:

![download](https://user-images.githubusercontent.com/87950040/204090120-b0a2e1a7-724b-4e43-8534-8a6717457a87.gif)

También hemos actualizado el título a "Conteo de reseñas en el conjunto de datos":
 
![download](https://user-images.githubusercontent.com/87950040/204090151-0c7e76c2-ba79-4bd3-9504-fa841671f218.gif)

**Pregunta 2**
 
En general, podemos ver que gran parte de nuestro conjunto de datos está formado por opiniones de 5 estrellas. Piensa en nuestros datos y en que se centran en los CD y los vinilos. ¿Qué tipos de clientes tienden a hacer reseñas de ese tipo de compras? ¿Qué más podríamos explorar sobre el comportamiento de nuestros consumidores con respecto a estas calificaciones? 
 
## Encontrando el precio promedio por calificación
 
En los pasos anteriores, hemos trabajado para identificar la prevalencia de las calificaciones dentro de nuestro conjunto de datos y hemos trabajado para crear visualizaciones de esta información. El siguiente paso es ver cómo se relacionan los precios de los artículos con las calificaciones dentro de nuestro conjunto de datos.

**Ejercicio 2**
 
Crea una tabla dinámica que calcule los precios promedio de cada calificación.

**Ejercicio 3**
 
Con nuestra nueva tabla dinámica, ahora podemos crear una visualización que muestre el precio promedio de cada categoría de calificación. ¿Qué visualizaciones mostrarían los datos adecuadamente y cuáles no? ¡Adelante, crea una que te parezca adecuada!

Los artículos con reseñas de 1 estrella tienen el precio promedio más alto, y los productos con una reseña de 4 estrellas tienen el precio promedio más bajo. Una idea para explorar esto más a fondo sería contextualizar estos precios y ver cómo se relacionan con los precios actuales y pasados. Para ello, tendríamos que validar el comportamiento de precio a lo largo del tiempo.
 
## Encontrar el precio promedio a lo largo del tiempo
Para mostrar la evolución del precio a lo largo del tiempo, es posible utilizar los gráficos de líneas. Podemos seguir pasos similares a los que hemos seguido anteriormente, pero tenemos que cambiar algunas cosas. En primer lugar, tendremos que crear una tabla dinámica similar pero con algunas diferencias. Tenemos que crear una tabla dinámica que funcione con datos de series temporales, y esto es un poco diferente de lo que hemos hecho antes.

**Ejercicio 4**
 
Crea una tabla dinámica que muestre el precio promedio de los productos por año.

Pista: Excel Online no permite agrupar automáticamente las columnas de fecha por mes, año, etc. (otras versiones de Excel sí tienen esa funcionalidad), así que necesitarás esta solución: Ve a la hoja de cálculo principal y crea una columna con el nombre de year(año en inglés) en la celda I1. Luego, en la fila 2, pon la fórmula =AÑO(H2) y arrástrala hacia abajo. Entonces podrás añadir el año a tu tabla dinámica en la sección "Filas" para agrupar por esa variable.

Con la tabla dinámica en su sitio, podemos crear nuestro gráfico de líneas yendo a la pestaña "Insertar" y seleccionando un gráfico de "Líneas". El gráfico final debería tener el siguiente aspecto:
 
 ![image](https://user-images.githubusercontent.com/87950040/204090281-ae5e1282-ffca-4d4a-9373-1a80dc559e20.png)

**Ejercicio 5**
 
¿Qué vemos en nuestro gráfico de líneas y qué crees que puede significar? ¿Sugieren estos resultados nuevas preguntas que deberíamos formular? ¿Cómo responderías a esas preguntas?

## Conclusión y tips para recordar
 
En este caso, nos hemos centrado en el aspecto práctico de la creación de visualizaciones de datos. Esto incluyó la identificación de diferentes visualizaciones que podíamos utilizar, y el uso de Excel para construir esas visualizaciones de una manera limpia y con estilo. En concreto, hicimos lo siguiente

* Construir tablas dinámicas para organizar nuestros datos de manera adecuada
* Crear gráficos de barras y de torta
* Incorporar etiquetas de datos y títulos de gráficos
* Construir un gráfico de líneas utilizando datos de series temporales
* Estilizar elementos de nuestras visualizaciones
 
En general, este análisis sólo abarcó los primeros pasos de un análisis de datos completo y nos ayudó a familiarizarnos un poco más con nuestros datos. En la práctica, tomaríamos estos análisis y seguiríamos desarrollando nuestros resultados para llegar a conclusiones más profundas.


 
 
 
 
 
 
 
 
 


 
 
 
# SQL

 **SQL** (Lenguaje de Consulta Estructurada, denominado así por su siglas en inglés: Structured Query Language) es un lenguaje de programación que utiliza palabras básicas en inglés para buscar o calcular cantidades específicas utilizando tus conjuntos de datos disponibles. Para que te hagas una idea de cómo es el trabajo con SQL, hemos grabado un GIF de un científico de datos consultando una <a href="https://github.com/jesusdanielquiroga/Introduccion-Base-de-Datos.git">base de datos</a> que consta de cientos de miles de datos:

![sql](https://user-images.githubusercontent.com/87950040/201537149-9c8128b6-d888-47bf-b5ec-0d665c2ec478.png)

# Programación con python

Python es otra herramienta que te permite realizar análisis muy complejos de tus datos. Muchas aplicaciones de IA (inteligencia artificial), como los carros que se conducen solos o los modelos de predicción de los mercados de valores, se desarrollan con Python.

# Estructura de datos

## Caso 1: Analizando a los investigadores que quieren trabajar en nuestro grupo de investigación

Eres el ayudante de una profesora muy reconocida que ha estado recopilando aplicaciones de candidatos que quieren hacer parte de su grupo de investigación. Tu profesora te ha pedido que la ayudes a obtener una idea preliminar sobre los tipos de intereses que los solicitantes tienen en común, así como a organizar los datos para su posterior análisis y para programar las entrevistas. Al final de este caso, serás capaz de diferenciar entre los conjuntos, las listas, las tuplas y los diccionarios en Python. Además, sabrás cómo crearlos y utilizarlos.

<a href="Jupyter_Notebook/data_structures_in_python_fellow.ipynb">Ir al caso</a> 

# Lógica Condicional

## Caso 2: Una tarea de clasificación de animales

Eres el ayudante de una profesora muy reconocida que ha estado recopilando aplicaciones de candidatos que quieren hacer parte de su grupo de investigación. Tu profesora te ha pedido que la ayudes a obtener una idea preliminar sobre los tipos de intereses que los solicitantes tienen en común, así como a organizar los datos para su posterior análisis y para programar las entrevistas. Al final de este caso, serás capaz de diferenciar entre los conjuntos, las listas, las tuplas y los diccionarios en Python. Además, sabrás cómo crearlos y utilizarlos.
 
<a href="Jupyter_Notebook/conditional_logic_in_python_fellow.ipynb">Ir al caso</a> 
 
# Funciones
## Caso 3: Adiconando etiquetas nutricionales a los alimentos

Tú y tus compañeros están llevando a cabo un proyecto de investigación para determinar la precisión de las afirmaciones de los fabricantes de alimentos sobre el contenido nutricional de sus productos. Ya has reunido los datos de unos 500 productos de tu supermercado local y ahora quieres etiquetar cada uno de ellos según su densidad calórica, su contenido en azúcares y grasas. En este caso, aprenderás qué son las funciones de Python, cómo crearlas y ejecutarlas.

<a href="Jupyter_Notebook/python_functions_fellow.ipynb">Ir al caso</a> 
 
# Bucles
## Caso 4: ¿Cuántos casos confirmados de COVID19 hay en los estados de Estados Unidos? 
 
Trabajas como analista de datos en un Centro de Pensamiento local especializado en política social. Hoy tu jefe ha obtenido un buen conjunto de datos sobre el COVID-19 y quiere que le ayudes con un informe rápido para incluirlo en una de sus presentaciones. En este caso aprenderás a escribir loops, (qué en inglés significa bucles) for y a leer y escribir archivos de texto plano utilizando Python.
 
<a href="Jupyter_Notebook/python_for_loops_text_io_fellow.ipynb">Ir al caso</a> 

# Conceptos De Estadística

## Caso 1: ¿Qué patrones podemos encontrar en los costos de la salud de la población fumadora?

**Objetivos**

Hasta este momento, nos hemos centrado en el análisis de datos desde una perspectiva empírica, es decir, trabajando únicamente a partir de los datos que hemos podido recopilar y conocer. Sin embargo, las técnicas más avanzadas de análisis de datos (como las pruebas de hipótesis, la inferencia estadística, el modelado predictivo y el aprendizaje automático) suelen requerir cierta base teórica, en la que hacemos uso de abstracciones, que en muchos casos nos permiten facilitar el entendimiento del problema a través de conceptos, aunque puedan no estar completamente vinculadas a los datos que tenemos. Este caso se centrará en la construcción de los fundamentos matemáticos básicos necesarios para continuar profundizando en el análisis de datos, a la vez que se discutirán algunos conceptos estadísticos fundamentales. Al final de este caso serás capaz de: 
* Describir los distintos tipos de datos y los métodos para trabajar con cada uno de ellos.
* Entender la diferencia entre la media, la mediana y la moda.
* Explicar por qué es importante medir la variabilidad al comparar grupos.
* Utilizar la probabilidad para obtener conclusiones sobre los distintos grupos.

**Contexto general**

Estás empleado en una compañía de seguros de salud. Tu empleador quiere entender mejor cómo su competencia estima los costos para los seguros de los fumadores. Te han pedido que investigues algunos datos históricos de la competencia para aclarar qué características de la población fumadora resultan claves en este proyecto.

**Problema de negocio**

Tu jefe te ha pedido que respondas a la siguiente pregunta “¿Cuál es el perfil de los fumadores en relación con el costo de su seguro de salud, sus características personales y la región geográfica donde habitan?”

**Contexto analítico**

Los datos que emplearemos para trabajar en este caso son públicos y se encuentran en el archivo de excel denominado seguro.xlsx. El archivo contiene información sobre diversos atributos que pueden afectar el costo del seguro de salud.

En este caso, utilizarás Excel para calcular algunas estadísticas básicas. Tu foco estará en asegurarte de elegir de manera adecuada las métricas y los gráficos que mejor transmitan tus observaciones y conclusiones respecto a los datos analizados.

**Entendamos los datos**

Echemos un vistazo al conjunto de datos del seguro de salud, disponible aquí. El conjunto de datos tiene de los siguientes atributos:

* edad: la edad de la persona, en años
* sexo: masculino o femenino
* imc: el Índice de Masa Corporal (IMC) de la persona
* hijos: el número de hijos que tiene la persona
* fumador: si la persona es fumadora o no
* región: noreste, noroeste, sureste, suroeste
* costo: el costo del seguro de salud de esa persona

Dado que existen diferentes tipos de datos, podemos agrupar los atributos en las siguientes categorías (ya explicaremos en qué consisten cada una de ellas):

<img width="529" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202875918-9553371e-245e-4949-8b0b-b542ed27e674.png">

Es útil entender el tipo de datos con los que estás trabajando antes de calcular cualquier estadística. Existen 4 tipos fundamentales de datos:

* **Datos de razón**: son aquellos para los cuales su escala tiene un cero absoluto. Cero absoluto significa que no hay ningún valor numérico negativo y que el número 0 representa la ausencia total de la cantidad estudiada. Esto lleva a que sea generalmente fácil comparar datos de razón. Por ejemplo, si te cobran 5 dólares y a otra persona le cobran 10 dólares, puedes decir fácilmente que le han cobrado el doble que a ti. Y un cobro de 0 dólares significa que no te han cobrado nada.

* **Datos de intervalo**: son aquellos para los cuales su escala no tiene un cero absoluto. En nuestro caso específico, por ejemplo, el IMC no tomará nunca un valor de cero. Recuerda que el IMC se calcula como una relación entre el peso de una persona y el cuadrado de su altura. Como nadie tiene una altura de cero, el IMC tampoco podrá ser cero. Por tal razón, aunque podamos utilizar el IMC para establecer comparaciones entre personas, no es correcto afirmar que una persona tiene el doble del IMC que otra.

* **Datos ordinales**: son aquellos que presentan categorías a las que se les puede asociar un orden natural. El IMC podría convertirse en un ejemplo, si agrupamos las personas en las categorías de bajo peso, normal, sobrepeso y obesidad. Esas cuatro categorías contienen una amplia gama de valores, pero tienen límites claros entre las categorías. Esto también nos ayuda a ver que no es el nombre de la variable lo que nos indica su tipo de dato, sino la forma en la que se mide la variable.

* **Datos nominales**: son simplemente una colección de categorías sin un ordenamiento natural. Por ejemplo, en nuestro caso específico la variable del sexo tiene las categorias femenino y masculino, pero estas categorias no tienen un orden particular. Lo mismo ocurre por ejemplo con los colores o los sabores.

## Estadísticos de tendencia central

Recordemos nuestro problema de negocio: queremos averiguar cuál es el perfil de los fumadores en relación con el costo de su seguro de salud, sus características personales y la región geográfica donde habitan. Como ya sabrás, un buen punto de partida es obtener diferentes estadísticos de los datos de los fumadores, como por ejemplo la media, la mediana y la moda de un conjunto de datos. Las tres son medidas de tendencia central, es decir, nos dan una idea de cómo es el elemento típico (más central) en un conjunto de datos para una variable determinada. Recuerda que:

**La media** es la suma de todas las observaciones de una determinada variable dividida por el número de observaciones de esa variable.

**La mediana** es otra medida del “centro” de los datos y nos entrega el valor “frontera” que divide el conjunto de datos en dos: la mitad de los datos se encuentran por encima de este valor y la otra mitad son iguales o inferiores a este valor (otra manera en la que se conoce las mediana es como el percentil 50 porque el 50% de los datos queda por debajo de ella y el otro 50% queda por encima).

**La moda**: nos entrega el valor más común (el que más se repite) en un conjunto de datos.

Por ejemplo, digamos que tenemos los siguientes datos:

<img width="305" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202876088-b77140ad-9dac-414c-93e9-08d2c68f6088.png">

Si sumamos todas las observaciones, tenemos 21 mascotas en total. Hay 9 personas. O sea que hay una media de $21/9 = 2,33$ mascotas por persona. La moda es el valor que más se repite, que es el 1, porque hay 4 personas que tienen una sola mascota. La mediana requiere que organicemos los valores de menor a mayor, así:

<img width="297" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202876103-ea8cb9af-80ee-4706-aa89-1f4fe1fcc0a7.png">

La mediana sería el valor que corresponde a Kelly, o sea el número 1, porque hay 4 personas que tienen una cantidad de mascotas igual o menor a Kelly y 4 personas que tienen más mascotas que Kelly. Como Kelly “parte” la tabla a la mitad, su valor es la mediana (en este caso, Kelly tiene el mismo número de mascotas que María, Milena o Benjamín, entonces cualquiera de los tres habría podido servir como mediana, porque el valor, el número 1, no cambiaría).

La media, la mediana y la moda son útiles con tipos de datos de razón y de intervalo. Sin embargo, los datos ordinales y nominales a menudo sólo se describen con la moda, o incluso simplemente informando del número de valores de cada categoría, especialmente cuando sólo hay un pequeño número de categorías posibles.

**Ejercicio 1**
 
Podemos obtener información sobre la media, la mediana y la moda utilizando las funciones de Excel. Otra palabra muy común para referirnos a la media es el promedio, y ese es el término que utiliza Excel, por lo cual para encontrar la media, utilizaremos la función PROMEDIO(). Para encontrar la mediana utilizaremos la función MEDIANA(). Si queremos comparar valores estadísticos entre grupos, como lo veremos en la pregunta 2, podemos utilizar tablas dinámicas o las funciones PROMEDIO.SI() o PROMEDIO.SI.CONJUNTO().

* ¿Cuál es el costo promedio del costo del seguro para todo el conjunto de datos?
* ¿El costo promedio de las personas que fuman es mayor que el de los no fumadores? ¿Cuál es la diferencia porcentual?
* Según los datos, ¿el tabaquismo es más frecuente en los hombres o en las mujeres?
* ¿Cuál es el costo medio del seguro para una mujer fumadora?
 
Pista: La diferencia porcentual se calcula con esta fórmula:
 
 <img width="127" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202876261-2063c10d-4d22-49b7-9ccb-67a43516b462.png">

Donde $n$ es la primera media que calculas, y $n_2$ es la segunda media que calculas. El valor absoluto está representado en esta fórmula con dobles barras, así: $|valor|$. Puedes calcular el valor absoluto en Excel con la función ABS().
 
## Histogramas
Es muy importante practicar generando diversos tipos gráficos al representar nuestros datos, pues algo tan sencillo como observarlos nos puede entregar pistas sobre cuál puede ser la mejor manera de analizarlos. La siguiente pregunta que queremos hacernos es cuál de estas dos medidas de tendencia central, la media o la mediana, nos entrega una mejor representación de nuestras variables.

Los histogramas se utilizan para mostrar la frecuencia de los valores de una variable. Esto permite comprender visualmente la dispersión de los datos. Existe un gráfico similar al histograma, llamado gráfico de columnas. Mientras que los histogramas se utilizan con datos de razón e intervalo, los gráficos de columnas se utilizan con datos ordinales y nominales. En un gráfico de columnas, es frecuente encontrar un espacio entre las barras para mostrar que las barras representan categorías diferentes, pero en los histogramas no se presenta ese espacio. Otro tipo de gráfico, llamado gráfico de barras, es similar al de columnas pero orientado horizontalmente.

Podemos crear un histograma seleccionando la columna que queremos utilizar y seleccionando la pestaña Insertar, y luego Insertar gráfico. En la sección de Otros elige Histograma.
 
 ![descarga](https://user-images.githubusercontent.com/87950040/202878796-01d4de39-2d1c-4c6a-853d-e5f8dca972af.gif)

 Se producirá un histograma básico con el siguiente aspecto (aquí hemos añadido ademas un título y las etiquetas de los ejes):
 
 ![descarga](https://user-images.githubusercontent.com/87950040/202878826-22239715-962c-41d9-8ee7-a9a6bc39fa44.png)
 
En la parte inferior de este histograma, ves que cada columna representa un rango de valores de IMC. Puedes ajustar la anchura de estos valores utilizando el panel de formato del gráfico y ampliando el área que dice Serie imc. (Si no ves este panel, haz clic derecho en la imagen y selecciona la opción Formato. Desde allí, al lado de donde dice Rangos, el valor por defecto es Automático. Puedes cambiar de Automático a Número de rangos y luego cambiar el número por defecto que aparece. Haciendo ese número más grande o más pequeño puedes ver cómo cambia el histograma).

En nuestro caso, éste parece ser un número razonable de intervalos para representar los datos. Esta distribución se parece a lo que se llama una distribución normal. Una distribución nos muestra los distintos valores que se dan para una variable. En una distribución normal, la media, la mediana y la moda coinciden, y los datos son simétricos en torno a la mediana. Esta distribución tiene un pico alto en el centro y se reduce a medida que nos desplazamos hacia los extremos izquierdo y derecho. La distribución normal es muy frecuente en la naturaleza y se parece a una campana, por lo que a veces la llaman “campana de Gauss”, en honor al matemático que la describió en fórmulas. Puedes encontrar más información sobre las distribuciones <a href="https://es.wikipedia.org/wiki/Distribuci%C3%B3n_de_probabilidad#:~:text=En%20teor%C3%ADa%20de%20la%20probabilidad,de%20que%20dicho%20suceso%20ocurra.">aquí</a>.
 
**Ejercicio 2**
 
* Crea un histograma para la columna costo de tu conjunto de datos.
* Contrasta los dos histogramas que has creado.
* Calcula la media y la mediana tanto para el imc como para costo.
* Describe cómo se relacionan la media y la mediana para imc y cómo se relacionan para costo.
 
 **Ejercicio 3**
 
Esta es una tabla del porcentaje de fumadores por región. ¿Por qué el Sureste tiene en promedio un mayor costo de seguro de salud en comparación con las demás regiones? Analiza también si estos datos estarían mejor representados mediante un histograma o un gráfico de barras.
 
## Probabilidad
 
Es común que sea necesario o útil calcular la probabilidad de que ocurra algún evento $A$, la cual puede tomar un valor entre 0 y 1. Matemáticamante denotamos esta probabilidad como $P(A)$. Una probabilidad de 0 significa que es seguro que este evento no se dé, y una probabilidad de 1 significa que es seguro que este evento se dé. Para calcular la probabilidad de que se produzca un evento, podemos utilizar las siguientes reglas (aquí,$A$ y $B$ son dos eventos diferentes):
 
 <img width="127" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202880984-52f52a17-acf5-4b48-9a88-86adc6dec209.png">

**Ejercicio 4**
 
La empresa está pensando en ofrecer un sorteo para que un cliente tenga el seguro de manera gratuita durante el próximo mes. Quieren saber qué probabilidad hay de que un fumador sea seleccionado. En concreto la empresa quiere saber:

* Si se hiciera un sorteo para cada región individualmente, ¿cuál es la probabilidad de que la persona seleccionada en la región que más fuma sea un fumador?
* Si se hiciera un sorteo para todas las regiones juntas, ¿cuál es la probabilidad de que se seleccione a un fumador de la región que más fuma?
 
## Relaciones entre variables

Como hemos visto en los casos anteriores, las propiedades de las variables individuales son importantes, pero no son lo único importante. Mejor aún, la ciencia de los datos suele consistir en el estudio de las relaciones entre múltiples variables. Una forma de ofrecer una rápida evaluación de la relación entre dos variables es mediante el concepto de correlación.

El coeficiente de correlación de Pearson (también llamado $R$ de Pearson) se utiliza habitualmente con este fin y tiene valores en el intervalo $[-1:1]$ . El coeficiente de Pearson puede ser útil para describir tipos de datos de razón o de intervalo. Una correlación positiva $R>0$ significa que a medida que una variable aumenta, la tendencia común es que la otra variable también aumente, mientras que una correlación negativa $R<0$ significa que a medida que una variable aumenta, la otra disminuye. Si $R=1$  significa que hay una relación lineal positiva perfecta entre las dos variables; si $R=-1$, hay una relación lineal negativa perfecta.

La siguiente imagen muestra una correlación positiva fuerte a la izquierda, una correlación positiva débil en el centro y ninguna correlación a la derecha. En el caso de las correlaciones positivas, puedes ver que los datos se agrupan en una tendencia que va desde la parte inferior izquierda a la superior derecha, y que parece ser "ascendente". En una correlación negativa, los datos se agruparían de la parte superior izquierda a la inferior derecha, pareciendo que están "cayendo".

<img width="526" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202883528-ff89efbe-f4bb-4dac-9526-57798d970055.png">

Podemos crear un sencillo gráfico de dispersión en Excel seleccionando la columna de la edad, y luego manteniendo pulsada la tecla ctrl en el pc o command en el mac, para seleccionar además la columna imc. Luego, en la pestaña Insertar, elegiremos el tipo de gráfico de dispersión.

![descarga](https://user-images.githubusercontent.com/87950040/202883843-95b899fd-27b9-42a0-8b6c-d2cd9e16d460.gif)

Después de etiquetar y ajustar nuestros índices, nuestro gráfico de dispersión tendrá el siguiente aspecto:

![descarga](https://user-images.githubusercontent.com/87950040/202883983-be75ee47-c471-44af-b4dd-1659e2eb3bb5.png)

No parece que haya una relación entre la edad y el IMC. No hay una tendencia ascendente o descendente en los datos. Si eligiéramos una edad al azar, encontraríamos una distribución similar de los IMC.

**Ejercicio 5**

* Crea gráficos de dispersión para mostrar la relación entre el IMC y los costos, así como también para la edad y los costos.
* Para cada uno de tus gráficos, indica si la relación es positiva, negativa o si no existe relación. Si la relación es positiva o negativa, estima la fuerza de la relación como fuerte o débil. Anota cualquier otro patrón que encuentres.

## Teoría de la probabilidad y distribuciones

Hasta ahora, nos hemos ocupado de calcular valores estadísticos que permiten conocer información a partir de los datos que ya tenemos, es decir, hemos adoptado un enfoque más empírico. Sin embargo, a menudo tenemos que mirar hacia adelante y predecir también la probabilidad de que se produzcan acontecimientos futuros, lo cual es de naturaleza más teórica. En el Ejercicio 4 tuvimos un ejemplo de ello, pero aquí hablaremos con más detalle de las distribuciones y de algunas de las teorías básicas que las rodean.

Supongamos que trazamos la distribución de los IMC de los fumadores de nuestro conjunto de datos: eso nos daría un histograma. Pero un histograma se basa totalmente en una muestra limitada de datos pasados, y no nos permite hacer predicciones directamente sobre la población general de fumadores independientemente de nuestro conjunto de datos específico. Para ello, necesitamos una función de densidad de probabilidad (FDP), que es una construcción teórica que nos ayuda a calcular la probabilidad de un rango de valores que tomaría el IMC de cualquier fumador elegido al azar, y que no está estrictamente sujeto a los límites de nuestro conjunto de datos (advertencia: para utilizar una FDP como ayuda para la inferencia, es decir, para hacer afirmaciones generales sobre una población utilizando los datos de una muestra, necesitamos relacionarla con algunas otras técnicas que aseguren que la muestra es representativa del conjunto).

Fíjate en que no hemos dicho que la FDP pueda decirnos directamente la probabilidad de que el IMC de un fumador elegido al azar sea exactamente un valor determinado, digamos, 30. El motivo es que el IMC es un valor continuo y no un valor discreto, puede adoptar cualquier valor decimal, por lo que la probabilidad de que el IMC de una persona sea exactamente 30 es prácticamente nula. Está prácticamente garantizado que lo que creemos que es un IMC de 30 es en realidad un IMC de 29,99, o un IMC de 30,01, o incluso un IMC de 30,001. En cualquier caso, encontrar una persona con un IMC de exactamente 30 es tan complejo como intentar encontrar un unicornio en una piscina.

## Área bajo la curva

Acorde a lo discutido, tiene más sentido calcular la probabilidad de que el IMC de un fumador se encuentre dentro de algún intervalo, digamos, entre 29 y 31. La FDP está perfectamente diseñada para esto. En concreto, si trazamos la FDP en un plano de coordenadas estándar de 2 dimensiones con un eje $x$ y un eje $y$, esta probabilidad es el área de la región que se encuentra bajo la FDP y por encima de el eje $x$, con valores de $x$ entre 29 y 31. Para los que estén familiarizados con el cálculo, esto se llama **área bajo la curva**.

Una consecuencia interesante de esta propiedad de la FDP es que el área total bajo la FDP y por encima del eje $x$, sin límites en los valores de $x$ , tiene que ser 1 (porque la probabilidad de un evento tiene que estar entre 0 y 1).

Una de las distribuciones más famosas es la normal, que ya mencionamos, en la que la media, la mediana y la moda son iguales, dando como resultado que la distribución sea simétrica en torno a la mediana. Esta distribución tiene un pico alto en el centro y se reduce a medida que nos movemos hacia los extremos izquierdo y derecho.

## Z-score

Una distribución normal ideal tiene el siguiente aspecto:

![descarga](https://user-images.githubusercontent.com/87950040/202885014-06d0b3e4-df90-4856-ace6-48c385d8e692.png)

Como puedes ver, hay algunas líneas verticales superpuestas a la curva. Representan reglas generales que es muy útil recordar:

Aproximadamente el 68% de las muestras de una distribución normal caen dentro de una desviación estándar de la media
Aproximadamente el 95% de las muestras se sitúan dentro de dos desviaciones típicas de la media
Aproximadamente el 99,7% de las muestras se sitúan dentro de las tres desviaciones típicas de la media
Ahora, ¿qué es una desviación estándar? Es simplemente una medida de qué tan dispersos están nuestros datos. Si un conjunto de datos tiene una desviación estándar grande, significa que una gran parte de los datos están lejos del promedio, o sea que están “dispersos”. Y si tiene una desviación estándar pequeña, significa que gran parte de los datos están cerca del promedio.

En la gráfica de arriba, la desviación estándar está representada con la letra griega .

Es una práctica habitual referirse al número de desviaciones estándar de un dato respecto a la media como su z-score. Aunque la palabra “score” traduce literalmente “puntaje”, es poco probable encontrar que se haga referencia a ella en español y se mantiene la referencia a este parámetro con su nombre en inglés, por lo cual los seguiremos llamando z-score.

Relacionando esto con nuestra discusión sobre el área bajo la curva, las reglas generales anteriores pueden interpretarse como:

El área bajo la FDP de la distribución normal y sobre el eje , con un -score entre -1 y 1 es aproximadamente 0,68.
El área bajo la FDP de la distribución normal y sobre el eje , con un -score entre -2 y 2 es de aproximadamente 0,95.
El área bajo la FDP de la distribución normal y sobre el eje , con un -score entre -3 y 3 es de aproximadamente 0,997.
Es habitual en estadística considerar los valores que tienen un z-score inferior a -2 y superior a 2 como “extremos” y relativamente raros. Esto representa el 2,5% en el extremo inferior de la distribución y el 2,5% en el extremo superior de la distribución.

Para calcular el z-score de un valor, resta la media del valor y divide ese producto por la desviación estandar:

<img width="227" alt="descarga" src="https://user-images.githubusercontent.com/87950040/202885059-eca24633-8c36-4577-9ebd-ac8998dcc04c.png">

La desviación estándar se calcula en Excel mediante la función DESVEST(). Si quisiéramos ver cómo se compara el costo del seguro de $5300$ con el de la población en general, primero calcularíamos el costo medio $13270.42$, la desviación estándar $12110.01$ y luego podríamos calcular el z-score de esta manera:

<img width="188" alt="aaa" src="https://user-images.githubusercontent.com/87950040/202885201-41f3605f-88b3-48a8-ba90-9df96c2da2fd.png">

La puntuación z negativa nos dice que 5300 está por debajo del costo medio del seguro en 0,66 desviaciones estándar. Nota: el z-score no es adecuado para los costos, porque los datos no se distribuyen normalmente. Sólo se utiliza como ejemplo para discutir la fórmula.

Para saber más sobre el z-score haz clic <a href="https://datascience.eu/es/matematica-y-estadistica/que-es-un-z-score/">aquí</a>.

**Ejercicio 6**

Supóngamos por ahora que la distribución del IMC es perfectamente normal. Calcula lo siguiente:

* ¿Cuál es la probabilidad de que una persona tenga un IMC superior a 30 (el umbral de la obesidad)? Una estimación aproximada está bien. Explica tu razonamiento.
* ¿Cuál es la probabilidad de que una persona tenga un IMC superior a 37?
* ¿Qué rango de valores de IMC tiene un z-score inferior a -2 o superior a 2?

Pista: mira la distribución del z-score de arriba como referencia.

<img width="389" alt="image" src="https://user-images.githubusercontent.com/87950040/203687931-74a3cb44-7988-4900-83d7-ca6b97049aa5.png">


**Tips para recordar**

En este caso, has visto que podemos analizar los datos históricos para comprender las tendencias que hay en ellos, y utilizar esas tendencias y algunos conocimientos teóricos sobre la probabilidad y la estadística para predecir lo que podría ocurrir en eventos futuros. Podemos resaltar como conclusiones los siguientes puntos clave:

* Los estadísticos pueden utilizarse para indicar rápidamente dónde se encuentra el “centro” de un conjunto de datos, o lo disperso que está.
* Podemos investigar las correlaciones entre las variables. Esto es especialmente útil durante el análisis exploratorio de datos, y cuando (como verás en casos futuros) se construyen modelos que predicen el valor de una variable de interés en función de otras variables.
* La función de densidad de probabilidad es lo que nos permite pasar del mundo totalmente empírico de los histogramas, que son una representación imperfecta y limitada de toda la población, a modelar e inferir características de esa población. El área bajo la FDP y por encima de 0 entre dos valores concretos de $a$ , $b$  y $x$ , nos entrega la probabilidad de que una muestra elegida al azar de esa población tenga un valor de $x$, para esa variable entre $a$ y $b$.
* La distribución normal es una FDP particularmente especial que es perfectamente simétrica para la cual coinciden sus valores de media, mediana y moda, y se ajusta además bastante bien a muchos fenómenos naturales.

# Introducción a los KPIs

## Objetivos

El objetivo del actual caso es presentar el concepto de KPIs en el contexto general de la inteligencia de negocios. Las preguntas que abordaremos y responderemos a largo del caso son:

* ¿Qué son los KPIs?
* ¿En qué se diferencia un KPI de una medida cuantitativa normal?
* ¿Qué cualidades tienen los KPIs?
* ¿Cuáles son los KPIs habituales en el sector logístico?
* ¿Cuáles son las mejores prácticas para elaborar tableros de control a partir de los KPIs?

## Introducción

**Contexto general**

Eres un empleado en un supermercado enfocado en la venta de alimentos que importa sus productos comprándolos a diferentes proveedores. Con el fin de garantizar la satisfacción de los consumidores, es necesario que la calidad de los productos sea adecuada y se mantenga constante en el tiempo. En los últimos 5 años, los proveedores han informado que las condiciones para el cultivo son cada vez más difíciles, pues diversos factores ambientales han hecho que sea más dificil mantener el mismo nivel de calidad en los productos. Por otra parte, algunos clientes del supermercado también ya han empezado a reportar problemas de calidad en los productos.

Se prevé que con el cambio climático este problema pueda incluso empeorar. Dado tu conocimiento del problema, le planteas la situación al gerente de supermercado, pero tras finalizar un primer encuentro, él no parece muy convencido de que el problema sea lo suficientemente grave como para afectar a la estabilidad del negocio.

**Contexto analítico**

Para convencer al gerente, decides utilizar información objetiva (basada en datos), que te permita emplear una medida cuantitativa para darle mayor claridad del riesgo potencial que esta situación trae al negocio. Para ello, asignas a todos los productos que se proveen al supermercado una etiqueta basada en la sospecha de que su calidad pueda verse afectada o no por el cambio climático. La etiqueta es la siguiente:

* Sin riesgo: No hay antecedentes de importaciones de mala calidad ni se ha informado de una amenaza sobre el rendimiento de los cultivos en el lugar del proveedor.

* Potencialmente en riesgo: No hay antecedentes de importaciones de mala calidad, pero se informó una amenaza en el rendimiento de los cultivos en la ubicación del proveedor.

* En riesgo: Se tiene un historial de importaciones de mala calidad así como también se notificó una amenaza sobre el rendimiento de los cultivos en la ubicación del proveedor.

Utilizando estas etiquetas, planteaste las siguientes métricas para convencer al gerente. La primera es el $PIR$, o Porcentaje de Importaciones en Riesgo:

<img width="263" alt="image" src="https://user-images.githubusercontent.com/87950040/205469777-81a1e363-b712-4e82-9f0f-350d3f8344e8.png">

La segunda es el $PIPR$, o Porcentaje de Importaciones Potencialmente en Riesgo:

<img width="355" alt="image" src="https://user-images.githubusercontent.com/87950040/205469795-284bdfd9-c8f7-4451-9332-2ccc6df5a670.png">

De acuerdo a la información con la que contaba el supermercado y a tu análisis obtuviste los siguientes resultados para las métricas definidas: 11% en el $PIR$ y un 30,5% en el $PIPR$. Tras mostrar estas cifras al gerente, y asombrado por la cantidad de proveedores que están en riesgo, el gerente reconoce tu preocupación, te agradece ahberle aclarado el problema con esta información clave, y establece el objetivo de reducir el $PIR$ al 5% y el $PIPR$ al 15% en los próximos 3 años para proteger la estabilidad del supermercado. Mediante el seguimiento de estas métricas, durante los tres años siguientes, pudieron establecer relaciones con nuevos proveedores para cumplir su objetivo. 
 
En este caso, el $PIR$ y el $PIPR$  fueron las métricas cuantitativas específicas que se emplearon para dar entendimiento y seguimiento al problema de negocio. Estas métricas se conocen en el contexto de la inteligencia de negocios como Indicadores Clave de Rendimiento o KPIs por sus siglas en inglés: Key Performance Indicators. Para entender mejor cada una de las palabras que componen el concepto de KPI vamos a desglosarlas:
 
* Indicador: Se refiere a la magnitud de la métrica que permite evaluar el rendimiento en relación con el objetivo.

* Clave: Se refiere a que el indicador es muy importante para el negocio.

* Rendimiento: Busca medir qué tan bien o mal está andando el negocio, qué tan buen “rendimiento” tiene (no sólo en términos monetarios, sino en otros aspectos también).

Un $PIR$ y un $PIPR$ más bajos significan que el centro de distribución está comprando alimentos a proveedores con menos riesgo. Estas métricas, que cumplen las 3 características descritas (idicador, clave, y rendimiento) son sin duda un ejemplo concreto de KPIs.
 
 **Ejercicio 1:**
 
¿Cuál de las siguientes es la mejor analogía para un KPI, usando la analogía de un carro?

Un KPI es como el volumen de la música en un carro o la temperatura del aire acondicionado.
Un KPI es como el indicador de gasolina del carro.
Un KPI es como la eficiencia del combustible del carro o el indicador de velocidad.
Un KPI es como el nombre del barrio en el que está el lugar de destino.
 
 
**Ejercicio 2:**
 
Selecciona una de las siguientes opciones para calcular el Porcentaje de Importaciones que NO están en Riesgo (un nuevo KPI que podemos llamar $PINR$), teniendo en cuenta la totalidad de proveedores del supermercado:
 

 <img width="433" alt="image" src="https://user-images.githubusercontent.com/87950040/205473220-9153e016-c7e3-4229-9cba-98512ba322c7.png">

## KPI vs. métrica
 
Existe una gran cantidad de características que pueden ser medidas en un negocio: la satisfacción de los clientes, los plazos de entrega, el tiempo medio de desplazamiento de los empleados, etc. Las empresas pueden medir innumerables aspectos diferentes. Sin embargo es importante señalar que no todas estas características que se miden y que se convierten en métricas son realmente KPIs. Para entenderlo un poco mejor veamos el siguiente diagrama: 
 
![image](https://user-images.githubusercontent.com/87950040/205473235-a600b5f7-28c3-407f-960f-ddf27b40b025.png)

Este diagrama ilustra que todos los KPIs son métricas, pero no todas las métricas son KPIs.

Las métricas suelen ser datos que al introducirse en una ecuación se convierten en algo medido. A veces, las propias métricas pueden obtenerse de un cálculo que involucra más métricas (por ejemplo, los ingresos y las ganancias: una empresa puede obtener más ingresos disminuyendo sus costos o aumentando sus ganancias). Los KPI siguen el ejemplo de las métricas de esta manera. Volvamos a visualizar el diagrama anterior para entenderlo mejor:
 
![image](https://user-images.githubusercontent.com/87950040/205473292-ecce3ae8-2457-406e-b7fd-5e09281c9fa1.png)

Se puede ver que una métrica y un KPI presentan coincidencias en varios aspectos: pueden estar compuestos por una o varias métricas. Lo que los diferencia es cómo se utilizan en el contexto de la inteligencia de negocios.

Para apoyar nuestra intuición sobre un KPI, definamos tres reglas generales que nos ayuden a identificarlos:
 
* Los KPI están vinculados a objetivos de negocio específicos, las métricas no.
  * Por ejemplo, el número de entregas puntuales y sin problemas suele ser un buen KPI, ya que las empresas no quieren perder dinero reenviando artículos. Las empresas de logística siempre tienen el objetivo de intentar maximizar esta cifra.
  * Un ejemplo de métrica sería el número de empleados con experiencia previa en logística. Aunque es bueno tenerlo, no es un objetivo explícito de la empresa + * contratar sólo a personas con una experiencia específica.
* Los KPI suelen estar motivados y evaluados por plazos.
  * Los KPI suelen evaluarse semanalmente o en distintos momentos, como las etapas de los proyectos o los ciclos trimestrales, para que la empresa pueda saber si convergen o se alejan de su objetivo.
* Aunque los KPI no tienen que relacionarse directamente con los ingresos, casi siempre están relacionados indirectamente con ellos.
  *Un buen ejemplo de un KPI que hace esto es la satisfacción de los empleados. Los empleados más felices tienen más probabilidades de quedarse en la empresa, y suelen ser más productivos, lo que conduce a un mayor ahorro de costos y, por tanto, a mayores ingresos.
  * Un ejemplo de métrica en este caso sería el tiempo de desplazamiento de los empleados. Los empleados que se desplazan menos pueden no estar tan contentos, pero esto no está relacionado con los ingresos de la empresa y, por tanto, podría no considerarse un problema. Es importante tener este dato como métrica y, en lo posible, reducir los tiempos de desplazamiento. Pero este indicador no llega a ser tan clave para el negocio y por tanto no es un KPI (el KPI sería algo más general, como “felicidad del trabajador”).

**Ejercicio 3:**
 
A partir de las anteriores caracteristicas descritas, discute si los siguientes numerales corresponden con ejemplos de métricas o de KPIs.

* El tiempo medio que un conductor de camión pasa en espera mientras se procesan las recogidas o las entregas.
* En un almacén de distribución de piezas de carro, se utiliza una métrica basada en la relación:
 <img width="299" alt="image" src="https://user-images.githubusercontent.com/87950040/205473429-c17c27fd-e61c-4940-9299-560bf6af8d94.png">

* Un fabricante de señales ferroviarias recopila datos sobre qué fenómenos meteorológicos extremos tienen más probabilidades de dañar sus equipos a la intemperie.
 
## Otras cualidades importantes
 
Los KPI no sólo describen el rendimiento en la consecución de un objetivo, sino que ayudan a generar respuestas a preguntas clave. Por ejemplo, si tienes un índice de rotación muy bajo (la frecuencia con la que los empleados permanecen en una empresa antes de renunciar) para un determinado puesto de la empresa, eso puede ayudar al administrador a investigar la pregunta “¿Es el rol X un trabajo terrible para hacer todos los días?” o “¿Qué es lo que hace que este rol sea tan agradable para los que se mantienen allí durante un tiempo prolongado?”.
 
Los KPI suelen estar correlacionados con otros aspectos de la empresa. Esto significa que, a medida que aumentan o disminuyen, también lo hacen otras métricas. Por ejemplo, la tasa de retención de clientes (la frecuencia con la que los clientes vuelven a comprar un producto o servicio) está correlacionada en cierta medida con los ingresos de la empresa. Esto tiene sentido, ya que los clientes que vuelven suelen comprar más productos.

Los KPI y las métricas sin relación se conocen como independientes (sin relación entre sí). Un ejemplo de dos métricas independientes sería la tasa de retención de clientes y el número medio de almendras consumidas por los empleados. Estas dos métricas no deberían cambiar de valor si cambia una u otra. Normalmente, los empresarios saben cómo se relaciona un KPI con otras métricas u otros KPI del negocio. Por tanto, cuando incluyas varios KPI que estén correlacionados entre sí, asegúrate de preguntarte “¿Qué visión adicional o que preguntas adicionales ofrece este KPI?” y “¿Es esta información adicional redundante para la historia que estoy tratando de contar?”
 
**Ejercicio 4:**
 
Aquí hay un KPI:

 <img width="463" alt="image" src="https://user-images.githubusercontent.com/87950040/205473472-3e9064f3-fa1c-4690-9caf-9488d47dbbb6.png">


¿Qué preguntas te harías si encontraras que este coeficiente es inferior a 1?
 
## Los KPI son más útiles vistos en conjunto
 
La mejor práctica para relacionarte con los KPIs empleados por una empresa es visualizarlos todos en una sola foto instantánea que presente el estado actual de la empresa hacia sus objetivos. Los KPIs suelen presentarse en tableros de control (o dashboards) para facilitar esta visualización:
 
 ![image](https://user-images.githubusercontent.com/87950040/205473504-58f65a67-7f61-4bdb-a115-cf884519da98.png)

En general, en la industria no se utiliza un único KPI, sino múltiples KPIs. Aunque cada uno de ellos dé respuesta a una pregunta en específico, sabemos que las preguntas generalmente están relacionadas entre sí. Por lo tanto, los KPIs vistos en conjunto nos entregan una visión más amplia e informada del problema de negocio y de las múltiples decisiones que podríamos tomar para alcanzar uno o varios objetivos.
 
## Conclusiones y tips para recordar
Este caso busca proporcionarte claridad respecto al concepto de KPIs o también llamados Indicadores Clave de Rendimiento. Tras haber finalizado el caso debes estar en capacidad de describir qué son, cuándo utilizarlos y cómo identificarlos.

# Módulos de repaso
 
## Módulo de repaso 1 - Fundamentos Analítica de Datos 📈

### Instrucciones

1. Descarga el dataset: descarga el archivo con el que trabajarás a lo largo del test haciendo clic <a href="Excel/Emergencias_UNGRD_test.xlsx">aquí</a>.

<img width="541" alt="image" src="https://user-images.githubusercontent.com/87950040/204099240-6aa5d5a6-0aee-45fa-8d75-557bde24ab5b.png">

El dataset con el que trabajaremos es generado por el Ministerio de Ambiente y Desarrollo Sostenible, registra eventos naturales o antrópicos (es decir, debidos a la acción del ser humano) no intencionales ocurridos durante los años 2019, 2020 y 2021 y que fueron reportados a la Unidad Nacional para la Gestión del Riesgo de Desastres (UNGRD).

2. Llévalo a tu forma:

Antes de responder a cualquier pregunta específica, familiarízate con el dataset. Manipúlalo, recórrelo, entiéndelo. Organízalo y llévalo a la forma con la que te sientas más cómodo para trabajar.

3. Carga el dataset al finalizar el test:

Aunque el formato del test es de selección múltiple, al finalizar el test te solicitaremos que nos compartas el enlace al archivo de Excel en el que has trabajado y que te ha permitido dar respuesta a las preguntas formuladas. Este nos permitirá evidenciar el procedimiento que has seguido y que seguramente será tan único como tú. Trata sin embargo de que el archivo tenga un orden claro, por ejemplo: podrías elegir crear una hoja por pregunta. Así será más fácil para ti trabajar.

### Consejos

1. ¡Siéntete en confianza!

Todo lo que necesitas saber para responder este test lo has conocido en anteriores casos. Por supuesto puedes encontrar algunas preguntas o procedimientos que puedes sentir como retadores, pero nada que no puedas resolver con lo que ya conociste en los casos de prueba.

2. ¡Divide y vencerás!

Muchas de las preguntas y problemas que enfrentamos como analistas resultan complejas si las intentamos abordar como un todo. Una pregunta compleja, realmente puede estar compuesta de un grupo de preguntas mucho más simples, que pueden irnos guiando paso a paso. Ganar la guerra resulta de ir ganando pequeñas batallas.

3. ¡Explora, siempre explora!

Muchas veces como analistas no sabemos cómo empezar, y no hay por qué avergonzarse de ello. Todo se trata de explorar. No debes saber siempre de antemano que hacer. Se trata de probar, no importa dónde te lleve tu prueba. ¡Ningún computador va a explotar! así que tranquilo, todo lo que se te ocurra, ¡pruébalo! Al explorar descubrirás cosas que no sabías de los datos y ganarás confianza, y poco a poco este nuevo conocimiento te llevará en el camino de la pregunta original que querías responder.

### Dataset Emergencias UNGRD

Registro de eventos naturales o antrópicos no intencionales ocurridos durante los años 2019, 2020 y 2021 y que fueron reportados a la UNGRD con su respectiva afectación y atención prestada a cada uno. <a href="https://www.datos.gov.co/Ambiente-y-Desarrollo-Sostenible/Emergencias-UNGRD/mthb-auu9">Información dataset</a>

<img width="756" alt="image" src="https://user-images.githubusercontent.com/87950040/204099887-1eeb89e8-a23c-4e85-aa72-39cc3a358b1d.png">
 
 ### Preguntas

¡A lo que vinimos! En esta sección encontrarás una serie de preguntas basadas en el dataset que ya descargaste, y que registra eventos naturales o antrópicos (es decir, debidos a la acción del ser humano) no intencionales ocurridos durante los años 2019, 2020 y 2021, reportados por la Unidad Nacional para la Gestión del Riesgo de Desastres (UNGRD).
 
 **A tener en cuenta**
 
```sh
Existe un amplio número de tipos de eventos naturales y antrópicos que pueden registrarse. 
Sin embargo, como sabemos, resulta útil generar algunas categorías específicas para poder clasificar esta serie de eventos.

Nota: para todas las preguntas cuando hacemos referencia a "el periodo 2019-2021" incluimos 2019, 2020 y 2021.
```




# Herramientas y tecnologías

Durante el desarrollo del programa frecuentemente se usará algunas herramientas tecnológicas:

* Zoom y YouTube: (Software de Videoconferencias y Video de sesiones grabadas)
* <a href="https://app.slack.com/client/T047ETKDFGF/C048ZQ4KG15">Slack</a>: (Software de mensajería instantánea para comunicarse con otros compañeros, TAs y el personal de Correlation One para temas relacionados con el material del curso).
* <a href="https://c1-learning.com/my-programs/1f3baeaa-66cd-440c-84a7-4a1bcbd02bcc/course-materials">Sitio Web del Programa</a>: (Donde el contenido del programa y los ejercicios de código serán publicados)
* <a href="https://lookerstudio.google.com/gallery">Looker Studio</a>: Es una herramienta gratuita que convierte tus datos en informes y paneles claros, totalmente personalizables y fáciles de consultar y compartir.





